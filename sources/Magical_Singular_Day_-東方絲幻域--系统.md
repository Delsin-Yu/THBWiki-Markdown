# Magical_Singular_Day_-東方絲幻域-/系统

<!-- source html: G:\repos\THBWiki-Markdown-Builder\THBWikiMarkdown\Temp\main\3\32\ns0%3AMagical_Singular_Day_-%E6%9D%B1%E6%96%B9%E7%B5%B2%E5%B9%BB%E5%9F%9F-%2F%E7%B3%BB%E7%BB%9F.html -->

リデラ

## 目录

- [1 基本说明](#基本说明)

  - [1.1 游戏音乐](#游戏音乐)
  - [1.2 基本操作](#基本操作)
  - [1.3 脚本选择](#脚本选择)
  - [1.4 主菜单说明](#主菜单说明)
  - [1.5 难度选择](#难度选择)
  - [1.6 机体选择](#机体选择)



- [2 游戏系统](#游戏系统)

  - [2.1 雷](#雷)
  - [2.2 Hyper](#Hyper)
  - [2.3 反击弹](#反击弹)
  - [2.4 Rank](#Rank)
  - [2.5 道具](#道具)
  - [2.6 道具分](#道具分)
  - [2.7 道具收集数](#道具收集数)
  - [2.8 近身范围](#近身范围)
  - [2.9 阴阳槽（Ex难度限定）](#阴阳槽（Ex难度限定）)
  - [2.10 阴阳率（Ex难度限定）](#阴阳率（Ex难度限定）)
  - [2.11 强hyper（Ex难度限定）](#强hyper（Ex难度限定）)
  - [2.12 短时倍率（Ap难度限定）](#短时倍率（Ap难度限定）)
  - [2.13 资源获取](#资源获取)
  - [2.14 敌人设定](#敌人设定)
  - [2.15 Boss设定](#Boss设定)
  - [2.16 雷数溢出](#雷数溢出)
  - [2.17 结算](#结算)
  - [2.18 游戏设定](#游戏设定)
  - [2.19 画面设定](#画面设定)



- [3 机体性能解析](#机体性能解析)

  - [3.1 共通解析](#共通解析)
  - [3.2 单独解析](#单独解析)

    - [3.2.1 A机 扩散型](#A机_扩散型)
    - [3.2.2 B机 集中型](#B机_集中型)
    - [3.2.3 C机 近身型](#C机_近身型)
    - [3.2.4 D机 锁定型](#D机_锁定型)










## 基本说明
  
東方絲幻域 ～ Magical Singular Day 是一个有5面加上隐藏boss的弹幕风脚本。需要放在弹幕风引擎v0.12m的script目录下运行。
  
  
之后的内容将以MSD作为游戏名的简称。
  

### 游戏音乐
  
在MSD文件夹下可以找到bgm文件夹。文件名与游戏内bgm对应情况如下表。
  


<table>
<caption>bgm对应表
</caption>
<tbody><tr>
<td>游戏区段</td>
<td>bgm名称
</td></tr>
<tr>
<td>主菜单</td>
<td>title.wav
</td></tr>
<tr>
<td>X面道中</td>
<td>stageX.wav
</td></tr>
<tr>
<td>X面boss</td>
<td>stageXboss.wav
</td></tr>
<tr>
<td>真boss</td>
<td>trueboss.wav
</td></tr></tbody></table>


  
由于游戏总共有五面，X=1, 2, 3, 4, 5。
  

### 基本操作
  
按下方向键以移动，射击键（Z）以射击，丢雷键（X）以释放主动雷。
  
  
可以在游戏设定中选择是否使用自动雷。
  
  
当左上角最大的数字达到1000后，按用户键（C）可以进入增幅模式（以下称为hyper）。
  
  
当开启hyper时，消除全屏子弹，自机获得较短的无敌时间并在持续期间增强火力。
  
  
hyper期间射击击破道中敌人会产生持续追踪自机的反击弹，可以再次按C来将全屏的反击弹转化为道具。
  
  
按下快进键（Ctrl）一秒可以快速重开。
  

### 脚本选择
  
选择弹幕风脚本载入时，有多个选项可选。
  
  
Magical Singular Day：正常的游戏模式。
  
  
Magical Singular Day Freemode：与正常游戏的系统有所不同，可以使用任何自定义机体。
  
  
白符「初期化」：将所有游戏数据初期化。如果误选，请使用Alt+F4来立即退出，切记不要击破出现的琪露诺然后退出此模式。
  

### 主菜单说明
  
Gamestart：开始游戏。
  
  
Practice：练习某一面。
  
  
Result：浏览游戏数据。
  
  
Config：编辑游戏设定。
  
  
LightConfig：游戏画面设定。
  
  
Quit：退出脚本。
  
  
Result选项下有三个子选项。
  
  
Score：记录了正常游戏每个难度每个机体前十的分数。也记录了每一面的最高分数。
  
  
Achievements：显示游玩过程中已经取得的成就。
  
  
Others：可以查看游戏的启动时间、游戏次数等种种信息。
  

### 难度选择
  
游戏一共有三种难度。
  
  
Morerate(Mo)：较为基础的难度。对系统与版面比较熟悉就不会遇到太多困难。
  
  
Extreme(Ex)：具有挑战性的难度。需要充分利用Ex专属系统。
  
  
Apocalypse(Ap)：作者也认为非常难的难度。真boss出现。需要成熟的路线与深刻的理解。
  
  
不同难度下游戏系统稍有不同，Moderate难度下系统最为简单。
  

### 机体选择
  
游戏开始前需要选择机体。
  
  
正常游戏有四种机体可选，并可以从三种自动雷触发模式中选择一种。
  
  
在Freemode下可以选择任何自定义机体。
  

## 游戏系统
### 雷
  
游戏中存在高速雷、低速雷、取消雷、自动雷。
  
  
高速雷：自机处于高速时丢雷。
  
  
低速雷：自机处于低速时丢雷。
  
  
取消雷：处于hyper状态下，按C+X来立即结束hyper。注意这只是立即结束hyper而不是扔了个雷出来。
  
  
以上每次均消耗一个雷道具。
  
  
自动雷：如果自动雷选项不为off，被弹时会触发自动雷（弱雷）。
  
  
若选项为on，每次自动雷消耗一雷。选项为half则每次消耗两雷。
  
  
注：被弹后极短时间内可以正常丢雷可以避免miss。即使开启自动雷，也可以按决死雷。
  

### Hyper
  
游戏面板左上角最大的数字为hyper计数，达到1000时可按C开启hyper。
  
  
开启hyper时，在短暂时间内无敌并全屏消弹，并根据消除的弹量来增加分数与道具收集数。
  
  
hyper持续期间，自机火力增强（默认情况下为增强1/3），击破敌人产生范围消弹效果（boss除外，后续称为消弹爆风），Ap难度下消弹爆风范围有所扩大。击破敌人会额外产生持续追踪自机的反击弹。取消所有敌人体术判定。
  
  
hyper持续期间，hyper计数随时间以恒定速度持续减少，减少到0则结束hyper。也可以观察自机周围的hyper指示环来了解hyper的剩余持续时间。
  
  
hyper期间放雷会使hyper以双倍速度衰减。
  
  
hyper结束时，在短暂时间内无敌并全屏消弹。
  
  
若是miss或使用雷取消了hyper，则中断时的计数减半并保留。
  

### 反击弹
  
hyper期间击破敌人会产生持续追踪自机的反击弹。
  
  
hyper期间可以按C将反击弹转化为道具。hyper结束时也会发生自动转化（转化率较低）。miss时反击弹消失。
  
  
反击弹产生后会随时间活化。反击弹活化有三个阶段：绿色、橙色、红色。在180、300帧时进入下一阶段，750帧时消失。随着与反击弹的距离的缩短，反击弹活化速度最高可以达到三倍。
  
  
每当进入下一个阶段，反击弹弹速加快，转化为的道具量增加，三个阶段每颗子弹分别生成1, 2, 4倍的道具。
  

### Rank
  
hyper计数之下的条为rank条。
  
  
rank主要影响敌弹速度，rank越高弹速越快。rank升高也会小幅增大消弹爆风范围与反击弹活化范围。
  
  
hyper结束会增加rank，miss或丢雷会降低rank。如果hyper以miss结束，可以看到rank先因hyper结束增加，后因miss降低。
  
  
收集白色道具会增加rank，红色道具会降低rank。
  

### 道具
  
其实原名为Magic Fragment（魔法碎片），本页为了叙述方便统称为“道具”。
  
  
道具可以分为三种：红色道具、白色道具、奖励道具。
  
  
红色道具：非hyper期间击破敌人时产生，近处击破产生减少，降低rank，少量增加道具分、道具计数、hyper计数。
  
  
白色道具：hyper期间击破敌人以及反击弹转化产生，增加rank，大量增加道具分、道具计数、hyper计数（提示：在hyper即将结束时按C）。
  
  
奖励道具：非hyper期间击破敌人产生，随距离接近产出显著增加。增加道具分、道具计数、hyper计数。
  

### 道具分
  
游戏面板最左上角的数字为当前道具分，与每个星星道具的得分成正比。
  
  
变动范围为0~10000。收集道具会增加道具分。
  
  
miss或hyper正常结束会使道具分减半。使用雷强制结束hyper改为减少三分之一。
  
  
道具分处于最大值（10000）时，敌人掉落的道具量增加，hyper期间击破产生的反击弹为双倍。
  

### 道具收集数
  
游戏面板右上角的两个数字为道具收集数。
  
  
上面的数字是累计道具收集数，不会减少，影响奖雷。
  
  
下面的数字是当前关卡的道具收集数，影响boss战的得分。
  
  
丢雷会按比例扣除当前道具数，在hyper期间丢雷扣除更多。
  

### 近身范围
  
依据与敌人距离的不同，可以划分为三个范围：远离、接近、近身。
  
  
在近身范围内，造成的伤害+20%，击破敌人掉落道具数达到最大，hyper计数迅速增加。
  
  
在接近的范围内，造成的伤害与击破道具数随着距离的增加而线性衰减，离开接近范围后达到最低。
  
  
在Ex难度下，近身范围与接近范围会根据阴阳槽在0.8倍到1.2倍的范围内波动。
  
  
在Ap难度下近身范围与接近范围恒定为1.2倍。
  

### 阴阳槽（Ex难度限定）
  
仅在Extreme难度下，rank条下面会多出一个阴阳槽计数条。
  
  
初始为均衡状态，可以向两侧变动。自机是高速还是低速状态决定了变动的方向。高速状态向阳（右侧）变动，低速状态向阴（左侧）变动。
  
  
偏向阳则增强进攻能力，弱化防御能力，偏向阴则相反。属性变动与阴阳槽当前的值成正比。
  
  
射击、收集道具、击破消弹敌人、击破boss都可以使阴阳槽发生变化。当阴阳槽填满一侧后，就不会再向另一侧变动。
  
  
miss会让阴阳槽向均衡状态减少。
  


<table>
<caption>阴阳的具体影响
</caption>
<tbody><tr>
<td>项目</td>
<td>阴</td>
<td>阳
</td></tr>
<tr>
<td>近身范围</td>
<td>缩小</td>
<td>扩大
</td></tr>
<tr>
<td>消弹爆风范围</td>
<td>扩大</td>
<td>缩小
</td></tr>
<tr>
<td>白色道具rank上升</td>
<td>不变</td>
<td>增加
</td></tr>
<tr>
<td>红色道具rank下降</td>
<td>增加</td>
<td>不变
</td></tr>
<tr>
<td>反击弹活化速度</td>
<td>减慢</td>
<td>加快
</td></tr>
<tr>
<td>决死时间</td>
<td>增加</td>
<td>不变
</td></tr></tbody></table>


### 阴阳率（Ex难度限定）
  
阴阳槽上方有一个倒三角，即阴阳率指示器，决定了阴阳槽向两侧变动的难易程度。
  
  
在高速/低速状态下射击或收集道具会使得阴阳率向阳/阴方向倾斜。反击弹转化能快速改变阴阳率。
  
  
高速雷使阴阳率偏向阳，低速雷使阴阳率偏向阴，而自动雷使其归中。
  

### 强hyper（Ex难度限定）
  
当阴阳槽处于一侧最大时，长按C可以开启强hyper。强hyper期间道具分数双倍。
  
  
阳hyper会大大提升火力(2/3)，但击破敌人不再产生消弹爆风。由于无敌帧从按下C的瞬间开始计算，阳hyper的无敌时间会相对较短。
  
  
阴hyper则延长无敌时间，并大大增加击破消弹爆风范围。
  

### 短时倍率（Ap难度限定）
  
道具得分受此倍率影响。倍率在持续时间结束后消失。
  
  
击破敌人时，距离越近越能获取更高的倍率（最大4倍）与更长的持续时间。
  
  
持续时间内若获得了更高的倍率，则将当前倍率更换为更高的倍率。
  
  
收集道具可以延长倍率的持续时间。不处于hyper状态下延长的时间更多。
  

### 资源获取
  
残机：3道中boss拆除所有使魔后击破掉落一残，分数达到10, 30, 60, 100, 150亿时分别奖一残。
  
  
雷：2, 4, 5道中boss掉落一雷，总道具数每增加一定值奖一雷。
  
  
自动雷设定为off：每5000道具奖励一雷。
  
  
自动雷设定为half：每10000道具奖励一雷。
  
  
自动雷设定为on：每20000道具奖励一雷。
  

### 敌人设定
  
背后为白色魔法阵的敌人没有体术判定。
  
  
靠近敌人可以封印其发弹，敌人魔法阵变红说明发弹被封印了。即使离开封印范围，封印效果也会额外持续一段时间。
  
  
部分敌人会带着一串子敌人出现。如果将其击破，所有的子敌人也会被击破。
  
  
有极少数的敌人本身具有死尸弹。
  
  
部分敌人击破会产生全屏消弹，收集消弹道具会获得基于消弹数量的消弹分。
  
  
在高速状态下收集消弹道具会增加道具分，低速状态下会增加hyper计数。
  
  
hyper期间击破消弹敌人不会产生全屏消弹效果，而是产生大范围的消弹爆风。
  

### Boss设定
  
boss在不同阶段防御力可能会有所波动。
  
  
一般来说，Boss拥有越多的附属单位，受到的伤害越低。
  
  
击破boss会根据剩余时间与当面道具数奖分。同时会产生全屏的消弹，根据消弹数量奖分，并增加子弹数量的道具数。
  
  
击破终身后的道具分就像结算分，受多种因素影响。
  

### 雷数溢出
  
如果在雷数为8时获得了新的雷，则改为以下效果：
  
  
立即填满hyper（非hyper状态），立即最大化道具分。在短时间内无敌并全屏消弹。获得0.5亿分。
  
  
在Freemode里无雷数溢出效果。
  

### 结算
  
击破boss终身会掉落324个道具。每个道具可以额外获得的分数=(残机数*30000（真boss两倍）+雷数*10000+本面道具数*5)*面数。
  
  
全关结算分=(残机数*1亿+雷数*0.2亿+总道具数*10000)*(Ex难度1.5，Ap难度2)。
  
  
但如果增加了初始资源，则结算分变为十分之一。Freemode下结算分额外乘五分之一。
  

### 游戏设定
  
Config里面的选项可以设置游戏参数。部分仅在练习模式可用。
  
  
AutoBomb：设定游戏的自动雷模式。
  
  
Difficulty：设定游戏难度。设定为select仍保留难度选择。
  
  
StageSelect：选择练习的面数。
  
  
StagePhase：选择当前面练习的起始位置。0为初始位置，1为道中boss，2为道中boss结束后，3为关底boss。
  
  
BurstCounter：设定练习初始的hyper计数。
  
  
MagicCounter：设定练习初始的得点。
  
  
BurstRank：设定练习初始rank。
  
  
RushGauge：设定练习初始阴阳槽的值。
  
  
Initial Life：设定初始残机数。
  
  
Initial Bomb：设定每命自带雷数。
  
  
Preload：设定是否在开始载入所有数据。以一定的开销来避免可能的加载卡顿。
  
  
Default：将以上内容全部还原为默认值。
  

### 画面设定
  
BGDraw：设定是否开启背景。
  
  
LightMode：设定是否为轻量模式。若为on，后续所有内容将在游戏开始时关闭。
  
  
HiScoreDraw：设定是否显示最高分。若为full则精细到每一面的最高分。
  
  
IntervalEffect：设定是否开启自机获得无敌的特效。
  
  
ShotEffect：设定射击命中是否有特效。
  
  
BombEffect：设定是否开启雷的特效。
  
  
PlayerBlur：设定是否开启自机残影。
  
  
BossBlur：设定是否开启boss残影。
  
  
ElementalBlur：设定是否开启一般敌人残影。
  
  
SpecialEffect：设定是否开启道中与boss的部分特效。
  
  
BreakEffect：设定是否开启消弹特效。
  
  
Default LightConfig：将以上所有还原为默认值。
  

## 机体性能解析
### 共通解析
  
四种机体一共有七种雷：自动雷、取消雷、高速雷、各机体的低速雷。
  
  
雷期间射击伤害以240每秒计算。
  


<table>
<tbody><tr>
<td>雷类型</td>
<td>持续时间/帧</td>
<td>雷伤害</td>
<td>总伤害</td>
<td>总秒伤
</td></tr>
<tr>
<td>自动雷</td>
<td>120</td>
<td>120</td>
<td>600</td>
<td>300
</td></tr>
<tr>
<td>取消雷</td>
<td>120</td>
<td>0</td>
<td>480</td>
<td>240
</td></tr>
<tr>
<td>高速雷</td>
<td>180</td>
<td>360</td>
<td>1080</td>
<td>360
</td></tr>
<tr>
<td>A雷</td>
<td>360</td>
<td>90</td>
<td>1530</td>
<td>255
</td></tr>
<tr>
<td>B雷</td>
<td>240</td>
<td>360</td>
<td>1320</td>
<td>330
</td></tr>
<tr>
<td>C雷</td>
<td>300</td>
<td>1900~2200</td>
<td>1900~2200</td>
<td>380~440
</td></tr>
<tr>
<td>D雷</td>
<td>180</td>
<td>480</td>
<td>1200</td>
<td>400
</td></tr></tbody></table>


  
给出的数据为理论最大值，不能完全代表实际情况。
  
  
无敌时间=雷持续时间+30帧。不过，对于A机低速雷，无敌时间约为持续时间的一半。
  
  
雷伤害不受近身降防影响。
  
  
B、D低速雷释放时移动速度减半，C雷则减缓到五分之一。C雷释放时不能射击。
  
  
取消雷并不视为雷。也不会像雷一样改变一些计数器。
  

### 单独解析
  
移速指的是每帧移动的像素数量。
  
  
伤害指的是射击每秒造成伤害。
  

#### A机 扩散型

<table>
<tbody><tr>
<td></td>
<td>高速</td>
<td>低速
</td></tr>
<tr>
<td>移速</td>
<td>4.0</td>
<td>1.5
</td></tr>
<tr>
<td>伤害</td>
<td>252</td>
<td>240
</td></tr></tbody></table>


  
散射型机体，高速时攻击范围大。道中压制力很强。但由于其分散的火力分布，低速火力可能不太理想。
  
  
移动速度较慢，因此很难进行随机应变，获取大量hyper也有难度。不过较慢的移动速度也利于精确的躲避。
  
  
近距离高速射击能造成大量伤害，但机会不多。
  
  
低速雷会在自机周围产生一个长时间的消弹场。持续时间很长，在某些情况下效果较好，不过无敌时间不太长，需要注意周围的发弹。
  

#### B机 集中型

<table>
<tbody><tr>
<td></td>
<td>高速</td>
<td>低速
</td></tr>
<tr>
<td>移速</td>
<td>5.0</td>
<td>2.0
</td></tr>
<tr>
<td>伤害</td>
<td>240</td>
<td>240
</td></tr></tbody></table>


  
直线射击，机动性强，火力高。
  
  
高低速射击差别不大，所以可以很激进地近身攻击以获取大量hyper。
  
  
低速雷会以自机为中心产生横向扩散的纵向攻击。范围窄但威力较大。
  

#### C机 近身型

<table>
<tbody><tr>
<td></td>
<td>高速</td>
<td>低速
</td></tr>
<tr>
<td>移速</td>
<td>5.5</td>
<td>2.7
</td></tr>
<tr>
<td>伤害</td>
<td>208+56</td>
<td>224+40
</td></tr>
<tr>
<td>电击射程</td>
<td>160</td>
<td>160
</td></tr>
<tr>
<td>电击扩展速度</td>
<td>8</td>
<td>8
</td></tr></tbody></table>


  
伤害分为两部分，左侧为射击威力，右侧为电击威力（每道雷电威力的最大值）。电击射程是指电击能攻击到的位置与自机的最远距离。电击扩展速度是在一帧内雷击范围的扩展量。电击范围在不射击时为0，开火10帧后开始扩散，直到达到最大。
  
  
电击会持续索敌，每道雷电攻击一个目标。如果目标较多，每个威力最多会下降一半（总体火力会增加）。
  
  
带有近距离电击的机体，近身攻击的威力非常强大。雷电最多可以攻击范围内的四个目标。
  
  
虽然高低速下对单体的火力是相同的，但高速下雷电威力明显更高，需要注意。
  
  
由于其主射击火力不太足且范围狭窄，无法近身时性能最差，但能近身时性能最强。
  
  
此机体拥有最快的高低速移速，非常灵活但难以精确控制。
  
  
由于电击范围需要时间来扩展，所以频繁按射击键可以不放出电击。
  
  
低速雷是范围狭窄但持续时间与威力都很足的极限火花改版。
  
  
其最大的缺陷是雷期间无法射击，所以无法凭借无敌射击获取大量hyper计数。
  
  
顺便一提，此雷的伤害随时间推移而增加，所以在中距离上威力最高。
  

#### D机 锁定型

<table>
<tbody><tr>
<td></td>
<td>高速</td>
<td>低速
</td></tr>
<tr>
<td>移速</td>
<td>4.5</td>
<td>2.3
</td></tr>
<tr>
<td>伤害</td>
<td>240</td>
<td>240+12
</td></tr>
<tr>
<td>近距离锁定时间
</td>
<td colspan="2">4
</td></tr></tbody></table>


  
低速射击时子机会锁定的机体。高速射击稍微分散。
  
  
会锁定被主射击命中的单位，但每个子机锁定的目标可能不同。
  
  
锁定需要一段时间，距离越近锁定越快。停枪或切高速会解除锁定。
  
  
所有子机锁定同一目标时，主射击火力稍稍增加。
  
  
低速雷专门用来攻击被锁定的目标，如果没有锁定目标就会在一段时间后自行爆炸。
  
  
虽然雷的范围与持续时间都不太理想，但雷本身伤害是较为可观的，也能击穿某些敌人的雷护盾。
  





---

此文档由 [THBWiki-Markdown-Builder](https://github.com/Delsin-Yu/THBWiki-Markdown-Builder) 构建。

文档中的所有内容除特殊注明外，均在 [**知识共享(Creative Commons) 署名-非商业性使用-相同方式共享 3.0 协议**](https://creativecommons.org/licenses/by-sa/3.0/deed.zh-hans) 下提供，附加条款亦可能应用。

引用类型与其他类型作品版权归原作者所有，如有作者授权则遵照授权协议使用。

详细请查阅 [THBWiki：免责声明](https://thbwiki.cc/THBWiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E)。

