# 帮助:管理映射方案

<!-- source html: G:\repos\THBWiki-Markdown-Builder\THBWikiMarkdown\Temp\other\5\5d\ns12%3A%E7%AE%A1%E7%90%86%E6%98%A0%E5%B0%84%E6%96%B9%E6%A1%88.html -->

帮助文档 | 扩展帮助文档

本页是THBWiki的[编辑帮助文档](./分类-帮助文档.md)

<table><tbody><tr><td><table cellspacing="0" class="nowraplinks mw-collapsible uncollapsed" style="width:100%;;;"><tbody><tr><th style=";" colspan="3" class="navbox-title"><div class="navbar"><div class="noprint plainlinksneverexpand" style="background-color:transparent; padding:0; font-weight:normal; font-size:80%; white-space:nowrap;"><a href="./模板-帮助页面导航.md" title="模板:帮助页面导航"><span style=";;border:none;" title="查看这个模板">查</span></a>&#160;<span style="font-size:80%;">•</span>&#160;<a href="/index.php?title=%E6%A8%A1%E6%9D%BF:%E5%B8%AE%E5%8A%A9%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA&amp;action=edit"><span style=";;border:none;" title="您可以编辑这个模板。请在储存变更之前先预览">编</span></a></div></div><span><a href="./分类-帮助文档.md" title="分类:帮助文档">帮助页面导航</a></span></th></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;"><a href="./分类-规范文档.md" title="分类:规范文档">编辑规范</a></td><td style=";;" class="navbox-list navbox-odd"><div><a href="./THBWiki-收录方针.md" title="THBWiki:收录方针">THBWiki收录方针</a> &#8226; <a href="./帮助-词条命名规范.md" title="帮助:词条命名规范">词条命名规范</a> &#8226; <a href="./帮助-词条编写规范.md" title="帮助:词条编写规范">词条编写规范</a> &#8226; <a href="./帮助-符卡截图规范.md" title="帮助:符卡截图规范">符卡截图规范</a> &#8226; <a href="./帮助-同人社团.md" title="帮助:同人社团">同人社团编写规范</a> &#8226; <a href="./帮助-封面图片.md" title="帮助:封面图片">封面图片规范</a> &#8226; <a href="./帮助-同人专辑.md" title="帮助:同人专辑">同人专辑编写规范</a> &#8226; <a href="/index.php?title=%E5%B8%AE%E5%8A%A9:%E5%90%8C%E4%BA%BA%E5%BF%97&amp;action=edit&amp;redlink=1" class="new" title="帮助:同人志（页面不存在）">同人志编写规范</a> &#8226; <a href="/index.php?title=%E5%B8%AE%E5%8A%A9:%E5%90%8C%E4%BA%BA%E8%BD%AF%E4%BB%B6&amp;action=edit&amp;redlink=1" class="new" title="帮助:同人软件（页面不存在）">同人软件编写规范</a> &#8226; <a href="./帮助-活动.md" title="帮助:活动">活动编写规范</a> &#8226; <a href="./帮助-官方角色二次设定页面.md" title="帮助:官方角色二次设定页面">官方角色二次设定页面编写规范</a> &#8226; <a href="./帮助-官作新作词条.md" title="帮助:官作新作词条">官方新作词条编写规范</a> &#8226; <a href="./帮助-官方漫画文字版.md" title="帮助:官方漫画文字版">官方漫画文字版编写规范</a> &#8226;  <a href="./帮助-歌词.md" title="帮助:歌词">歌词编写规范</a> &#8226;  <a href="./帮助-角色介绍可读化.md" title="帮助:角色介绍可读化">角色介绍可读化编写规范</a> &#8226;  <a href="./帮助-地点词条.md" title="帮助:地点词条">地点词条编写规范</a> &#8226;  <a href="./帮助-种族词条.md" title="帮助:种族词条">种族词条编写规范</a></div></td><td class="navbox-image" style="" rowspan="9"><img src="https://static.thwiki.cc/template/info.png" alt="info.png"></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;">基础帮助</td><td style=";;" class="navbox-list navbox-even"><div></div><table cellspacing="0" class="nowraplinks navbox-subgroup" style="width:100%;;;;"><tbody><tr><td class="navbox-group" style=";;"><div>编辑代码</div></td><td style=";;" class="navbox-list navbox-odd"><div><a href="./帮助-常用代码.md" title="帮助:常用代码">常用代码</a> &#8226; <a href="./帮助-常用模板.md" title="帮助:常用模板">常用模板</a> &#8226; <a href="./帮助-特殊代码.md" title="帮助:特殊代码">进阶代码</a> &#8226; <a href="./帮助-插入视频.md" title="帮助:插入视频">插入视频</a></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;"><div>功能性</div></td><td style=";;" class="navbox-list navbox-even"><div><a href="./帮助-强刷新.md" title="帮助:强刷新">强刷新</a> &#8226; <a href="./帮助-颜色表.md" title="帮助:颜色表">颜色表</a> &#8226; <a href="./帮助-跨站链接前缀.md" title="帮助:跨站链接前缀">跨站链接前缀</a> &#8226; <a href="./帮助-样式类别.md" title="帮助:样式类别">样式类用法</a></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;"><div><a href="./分类-标准名称模板.md" title="分类:标准名称模板">标准名称模板</a></div></td><td style=";;" class="navbox-list navbox-odd"><div><a href="./帮助-角色名模板.md" title="帮助:角色名模板">角色名模板</a> &#8226;<a href="./帮助-音乐名模板.md" title="帮助:音乐名模板">音乐名模板</a>（<a href="./音乐名模板目录.md" title="音乐名模板目录">模板目录</a>） &#8226; <a href="./帮助-称号模板.md" title="帮助:称号模板">称号模板</a>（<a href="./称号模板目录.md" title="称号模板目录">模板目录</a>） &#8226; <a href="./帮助-符卡名模板.md" title="帮助:符卡名模板">符卡名模板</a>（<a href="./符卡名模板目录.md" title="符卡名模板目录">模板目录</a>/<a href="./符卡名模板目录1.md" title="符卡名模板目录1">1</a>/<a href="./符卡名模板目录2.md" title="符卡名模板目录2">2</a>/<a href="./符卡名模板目录3.md" title="符卡名模板目录3">3</a>）  &#8226; <a href="./帮助-能力模板.md" title="帮助:能力模板">能力模板</a>（<a href="./能力模板目录.md" title="能力模板目录">模板目录</a>）&#8226; <a href="./帮助-活动名模板.md" title="帮助:活动名模板">活动名模板</a>（<a href="./活动名模板目录.md" title="活动名模板目录">模板目录</a>/<a href="./活动名模板目录-主要展会.md" title="活动名模板目录/主要展会">主要</a>/<a href="./活动名模板目录-东方Only-东日本地区1限定.md" title="活动名模板目录/东方Only/东日本地区1限定">东日本1</a>/<a href="./活动名模板目录-东方Only-东日本地区限定（关东地方）.md" title="活动名模板目录/东方Only/东日本地区限定（关东地方）">东日本（关东）</a>/<a href="./活动名模板目录-东方Only-东日本地区限定（关东地方2）.md" title="活动名模板目录/东方Only/东日本地区限定（关东地方2）">东日本（关东2）</a>/<a href="./活动名模板目录-东方Only-东日本地区限定（中部地方）.md" title="活动名模板目录/东方Only/东日本地区限定（中部地方）">东日本（中部）</a>/<a href="./活动名模板目录-东方Only-西日本地区限定.md" title="活动名模板目录/东方Only/西日本地区限定">西日本</a>/<a href="./活动名模板目录-东方Only-多地方地区限定.md" title="活动名模板目录/东方Only/多地方地区限定">多地区</a>/<a href="./活动名模板目录-东方Only-作品限定.md" title="活动名模板目录/东方Only/作品限定">作品</a>/<a href="./活动名模板目录-东方Only-角色限定.md" title="活动名模板目录/东方Only/角色限定">角色</a>/<a href="./活动名模板目录-非东方Only.md" title="活动名模板目录/非东方Only">非东方</a>/<a href="./活动名模板目录-中国展会.md" title="活动名模板目录/中国展会">中国</a>/<a href="./活动名模板目录-中国展会2.md" title="活动名模板目录/中国展会2">中国2</a>/<a href="./活动名模板目录-其他地区展会.md" title="活动名模板目录/其他地区展会">其他地区</a>/<a href="./活动名模板目录-未分类.md" title="活动名模板目录/未分类">未分类</a>）</div></td></tr></tbody></table><div></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;"><a href="./分类-扩展帮助文档.md" title="分类:扩展帮助文档">扩展功能</a></td><td style=";;" class="navbox-list navbox-odd"><div></div><table cellspacing="0" class="nowraplinks navbox-subgroup" style="width:100%;;;;"><tbody><tr><td class="navbox-group" style=";;"><div>简单功能文档</div></td><td style=";;" class="navbox-list navbox-odd"><div><a href="./帮助-翻译表.md" title="帮助:翻译表">翻译表</a> &#8226; <a href="./帮助-固定标题扩展.md" title="帮助:固定标题扩展">固定标题扩展</a> &#8226; <a href="./帮助-时长扩展.md" title="帮助:时长扩展">时长扩展</a> &#8226; <a href="./帮助-汉字数字扩展.md" title="帮助:汉字数字扩展">汉字数字扩展</a> &#8226; <a href="./帮助-货币扩展.md" title="帮助:货币扩展">货币扩展</a> &#8226; <a href="./帮助-转置扩展.md" title="帮助:转置扩展">转置扩展</a></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;"><div>复杂功能文档</div></td><td style=";;" class="navbox-list navbox-even"><div><a href="./帮助-解析函数.md" title="帮助:解析函数">解析函数</a> &#8226; <a href="./帮助-SMW.md" title="帮助:SMW">语义维基（SMW）</a> &#8226; <a class="mw-selflink selflink">管理映射方案</a> &#8226; <a href="./帮助-管理碰撞.md" title="帮助:管理碰撞">管理碰撞</a> &#8226; <a href="./帮助-编写扩展.md" title="帮助:编写扩展">编写扩展</a> &#8226; <a href="./帮助-音乐资料API.md" title="帮助:音乐资料API">音乐资料API</a></div></td></tr></tbody></table><div></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;">辅助工具</td><td style=";;" class="navbox-list navbox-even"><div><span class="plainlinks"><a rel="nofollow" class="external text" href="https://tool.thwiki.cc/textcolor">渐变色文字生成</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/calline">图片边长计算</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/sort">模板列表排序</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/tracks">曲目时长填写工具</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/tags/">用音频文件编写词条</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/circlelyrics">社团歌词进度</a> &#8226; <a rel="nofollow" class="external text" href="https://tool.thwiki.cc/lrctowiki">歌词文本转换</a></span> &#8226; <a href="./帮助-Gadget-HotCat.md" title="帮助:Gadget-HotCat">HotCat小工具</a></div></td></tr><tr><td></td></tr><tr><td class="navbox-group" style=";;">测试沙盒</td><td style=";;" class="navbox-list navbox-odd"><div><a href="/%E6%B2%99%E7%9B%92" title="沙盒">沙盒</a> &#8226; <a href="./沙盒-高级功能.md" title="沙盒/高级功能">进阶沙盒</a> &#8226; <a href="./模板-沙盒.md" title="模板:沙盒">模板沙盒‎</a> &#8226; <a href="./沙盒-SMW.md" title="沙盒/SMW">SMW‎沙盒‎</a> &#8226; <a href="./沙盒-乐谱.md" title="沙盒/乐谱">乐谱沙盒‎</a> &#8226; <a href="./帮助-皮肤.md" title="帮助:皮肤">皮肤‎‎</a></div></td></tr></tbody></table></td></tr></tbody></table>


  
 **映射表扩展** 是一个提供以SQL为基础、高效映射表系统的Mediawiki插件。管理员（或拥有编辑受保护页面权限的人）可以在特殊页面管理映射方案 (未找到链接)中统一创建、修改及删除映射表。
  

## 目录

- [1 安装](#安装)
- [2 管理映射表](#管理映射表)

  - [2.1 单个浏览](#单个浏览)
  - [2.2 创建](#创建)
  - [2.3 编辑](#编辑)
  - [2.4 批量浏览/编辑/删除](#批量浏览/编辑/删除)
  - [2.5 转换](#转换)
  - [2.6 搜索/编辑映射对](#搜索/编辑映射对)



- [3 语法](#语法)
- [4 调用映射表](#调用映射表)

  - [4.1 getmap](#getmap)
  - [4.2 getmaparray](#getmaparray)
  - [4.3 getmapname](#getmapname)







## 安装
1 你需要最新版本（1.6.1）的`
TableMapping.zip`
。
2 解压到`
extensions`
目录下。
3 在`
LocalSettings.php`
末尾加上`
require_once( "$IP/extensions/TableMapping/TableMapping.php" );`
。
4 由于此扩展需要创建两个新的SQL数据表，所以必须[更新数据库](http://www.mediawiki.org/wiki/Manual:Update.php)，这样两个新表就会被自动创建。
5 安装完成。

## 管理映射表
- 有足够权限的人进入管理映射方案 (未找到链接)后便会看到一个表单，可以选择执行所有管理操作。
- 其他人进入后则只会看到 **浏览已有映射方案** 的操作。

### 单个浏览
  
一般用户只能够浏览单个映射表，在 **方案名稱** 框里输入方案名称，或用子页的形式（例：特殊:管理映射方案/方案名 (未找到链接)）便可以浏览该映射表，不能进行任何操作。
  

### 创建
  
在 **创建/编辑映射方案** 下， **方案名稱** 框里输入想要创建的方案名称，然后点选 **创建** 。如果该方案已经存在请使用 **编辑** ，如果需要删除请使用 **编辑所有映射方案** 。
  
  
在大框内输入好映射表内容后便可以按确定，勾选 **刷新对应模板** 的话会自动刷新刚定义的 **对应模板** 。提交前可以更改需要创建的映射表名称，提交后会进入编辑页面，同样可以更改映射表名称。
  
  
如果需要创建/编辑另外一个映射表，请按 **安全返回** 重新开始。
  

### 编辑
  
同样在 **创建/编辑映射方案** 下， **方案名稱** 框里输入想要编辑的方案名称，然后点选 **编辑** 。如果该方案不存在请使用 **创建** ，如果需要删除请使用 **编辑所有映射方案** 。
  
  
在大框内会显示目前映射表的内容，修改好映射表内容便可以按确定，亦可以更改映射表名称，勾选 **刷新对应模板** 的话会自动刷新刚定义的 **对应模板** 及先前的 **对应模板** （如果对应模板有更改的话）。
  
  
如果需要创建/编辑另外一个映射表，请按 **安全返回** 重新开始。
  

### 批量浏览/编辑/删除
  
在 **浏览所有映射方案** 下，可以进行两种操作：
  

- 浏览所有映射方案，单纯是 **单个浏览** 的叠加，不能进行任何操作。
- 编辑所有映射方案，可以进行批量 **编辑** 及 **删除** 操作，其中 **删除** 只能够在这里进行。

  
并有其他选项可以让操作变得更轻松：
  

- 默认显示状态，可以选择各个映射表框的初始状态是 **展开** 还是 **折叠** ，默认是展开。
- 排序方式，可以选择以 **按建立时间** 或 **按名称** 排序映射表框，默认是按建立时间。
- 按分类筛选，可以按定义映射表时设定的分类筛选映射表，默认是空（不筛选）。

  
进入 **浏览/编辑所有映射方案** 页面后，可以按位于每个映射表框右上的 **[+/-]** 展开及折叠映射表。
  
  
全部映射表默认处于不能编辑状态，需要先勾选 **登记编辑** 才能编辑。只有勾选了 **登记编辑** 的映射表才会被修改，反勾 **登记编辑** 能让系统无视该框里面的任何修改。
  
  
勾选 **刷新对应模板** 会自动刷新刚定义的 **对应模板** 及先前的 **对应模板** （如果对应模板有更改的话）。
  
  
勾选 **登记删除** 能删除该映射表，此选项凌驾其他选项，并会自动刷新已经定义的 **对应模板** 。
  
  
编辑满意后便可以按确定，会跳转至显示各个编辑的信息及状态的页面，之后如果需要再进行其他操作的话请按 **安全返回** 重新开始。
  

### 转换
  
在 **转换已有模板** 下， **模板名稱** 框里输入想要转换的模板名称，然后点选 **确认** 。如果与模板同名的方案已存在，将无法转换。
  
  
此功能用于把已有模板内的 **switch解析器** 转换为映射表，默认为同样的名称。转换后会进入 **创建** 页面，之后的操作与 **创建** 相同。被转换的模板必须存在及包含 **switch解析器** ，不符合的模板并不能转换。
  
  
此操作只会 **创建** 一个映射表，并不会改变模板的任何内容。
  
  
如果需要转换另外一个模板，请按 **安全返回** 重新开始。
  

### 搜索/编辑映射对
  
在 **搜索/编辑映射对** 下，输入想要搜索的 **键** 或（和） **值** ，然后点选 **搜索** 。供使用的搜索模式有两种，分别是 **部分相同** 和 **全部相同** ，可以按需要分别对 **键** 和 **值** 设定所需的模式：
  

- 以 **部分相同** 搜索时会匹配所有含有搜索字串的项目。
- 以 **全部相同** 搜索时会匹配所有等于搜索字串的项目。

  
亦可按分类筛选，只在属于该分类的映射表内搜索，默认是空（不筛选）。
  
  
进入 **搜索/编辑映射对** 页面后，会见到以映射表分组的多行映射对，可以按需要分别编辑，编辑满意后便可以按位于最底下的确定。
  
  
提交更改前有几个注意事项：
  

- 清空 **键** 或 **值** 或把 **键** 设为纯空格或纯0会把该映射对 **删除** 。
- 如果更改后的 **键** 在该映射表内已经存在，更改将会 **失败** 。
-  **键** 内的空格会被去除。

## 语法
  
映射表的定义语法十分简单，是以 **行** 为单位定义每个 **映射对** ，换句话说每个 **映射对** 均以回车分割。要注意 **键** 并不区分前导零及大小写，也不能为空、纯空格或纯0。
  

- 基本一对一定义语法，“ **键**   **值** ”：

: 1 地霊達の起床
: 2 暗闇の風穴
: 3 封じられた妖怪　～ Lost Place
: 4 渡る者の途絶えた橋

- 多对一定义语法，“ **键1** | **键2** | **键n**   **值** ”：

: 1|T 地霊達の起床
: 2|1-1 暗闇の風穴
: 3|1-2 封じられた妖怪　～ Lost Place
: 4|2-1 渡る者の途絶えた橋

  
由于以上语法， **键** 不能含有空格和竖杠。并没有一对多和多对多的语法。
  
  
处理定义一般的 **映射对** ，还可以用特定 **键** 定义有特殊意义的 **映射属性** ，比如：
  

-  **!AUT** ，定义自动获取列表的WIKI语法，定义后每隔一定时间（由 **!LAP** 定义）或被编辑时会自动解析运算此句WIKI语法，把得到的结果用回车（\n）分割，配以递增数字为 **键** ，自动生成映射表。每次更新时会把 **映射属性** 以外的所有 **映射对** 清除，替换以新的 **映射对** 。
-  **!CAT** ，定义映射表所属分类， **浏览所有映射方案** 中的按分类筛选功能会用到。
-  **!DEF** ，定义当在映射表找不到请求的键所对应的值时，会返回的默认值，会被语法分析器所定义的默认值覆盖。
-  **!EXP** ，定义当前自动获取列表过期日的时间戳，请勿编辑。
-  **!INH** ，定义映射表的父映射表，定义后该映射表会具有其父映射表的全部 **映射对** ，如有相同的 **键** 父映射表会被覆盖。与 **!JOI** 和 **!REV** 一起一共可以嵌套10层，处理级别最高，处理级别高的嵌套满10层后其之下的嵌套将不会被执行。
-  **!JOI** ，定义映射表的连结映射表，定义后该映射表会具有其连结映射表的全部 **键** ，而那些 **键** 的 **值** 则会变成，把 **值** 当作 **键** 输入目前映射表的返回 **值** 。与 **!DEF** 和 **!REV** 一起一共可以嵌套10层，处理级别最低。
-  **!LAP** ，定义自动获取列表的更新间隔，应设定为以秒为单位的纯数字，例如86400就是每一天更新一次，不设定时默认为86400（并不构成 **映射对** ，getmap时不会显示）。
-  **!REV** ，定义映射表的反映射表，定义后该映射表会具有其反映射表的全部 **映射对** ，只是 **键** 和 **值** 相反了。之后如有相同的 **键** ，反映射表会被覆盖。以此方法定义的 **键** 将可以含有空格和竖杠，只有纯空格或纯0的 **键** 会被去掉。反映射表可以是自己，注意反转后的 **值** 将会是全部大写的，与 **!INH** 和 **!JOI** 一起一共可以嵌套10层。
-  **!SOR** ，定义映射表的排序键，定义后可在浏览或编辑多个映射表时让系统根据排序键的值按[自然顺序](http://sourcefrog.net/projects/natsort/)排列。
-  **!TEM** ，定义映射表的 **对应模板** ，勾选 **刷新对应模板** 时会刷新该模板，以刷新所有含有该映射表（模板）的页面。

  
几个映射表定义范例：
  

- 以下范例将定义分类为“音乐名日文”，对应模板为“大战争音乐名/日文”，默认返回值为“缺少参数”，内容为大战争日文音乐名的映射表：

```
方案名称：大战争音乐名日文
!CAT 音乐名日文
!DEF 缺少参数
!TEM 大战争音乐名/日文
1|T 春の氷精
2 可愛い大戦争のリフレーン
3 いたずらに命をかけて
4 年中夢中の好奇心
5 真夜中のフェアリーダンス
6 妖精大戦争　～ Fairy Wars
7 ルーズレイン
8 メイガスナイト
9|E 春の氷精　- 静 -
10|P プレイヤーズスコア```

- 以下范例将定义一个含有“大战争音乐名中文”键值反转版的映射表：

```
方案名称：大战争音乐名编号2
!CAT 音乐名编号
!REV 大战争音乐名中文```

- 以下范例将定义一个含有“大战争音乐名编号2”和“大战争音乐名日文”键值反转版的映射表，也就是“大战争音乐名中文”和“大战争音乐名日文”各自反转后的合并：

```
方案名称：大战争音乐名编号
!CAT 音乐名编号
!DEF 缺少参数
!INH 大战争音乐名编号2
!TEM 大战争音乐名/编号
!REV 大战争音乐名日文```

## 调用映射表
  
此插件提供两种调用方法，分别是#getmap和#getmaparray。
  

### getmap
  
直接获取指定映射表方案下指定 **键** 的对应值，不区分前导零及大小写。如果找不到该 **键** 将返回自定默认值、映射表的!DEF值或空字串，前者覆盖后者。
  

格式
: `
{{#getmap: 映射表方案名称 | 键 | 自定默认值 }}`

例子
: 
: `
{{#getmap:大战争音乐名/日文|T}}`
 → 春の氷精
: `
{{#getmap:大战争音乐名/日文|11}}`
 → 缺少参数
: `
{{#getmap:大战争音乐名/日文|11|无}}`
 → 无
: `
{{#getmap:大战争音乐名/日文|!cat}}`
 → 音乐名日文

### getmaparray
  
获取指定映射表方案下的所有 **键** （key）、 **值** （value）或 **映射对** （pair），按 **键** 的[自然顺序](http://sourcefrog.net/projects/natsort/)排列。
  

格式
: `
{{#getmaparray: 映射表方案名称 | 分隔符（默认为回车） | 要求（可用值为key和pair，其他值均理解为value） }}`

例子
: 
: `
{{#getmaparray:大战争音乐名/日文|,}}`
 → `
音乐名,缺少参数,大战争音乐名,春の氷精,可愛い大戦争のリフレーン,いたずらに命をかけて,年中夢中の好奇心,真夜中のフェアリーダンス,妖精大戦争　～ Fairy Wars,ルーズレイン,メイガスナイト,春の氷精　- 静 -,プレイヤーズスコア,春の氷精　- 静 -,プレイヤーズスコア,春の氷精`

: `
{{#getmaparray:大战争音乐名/日文|,|key}}`
 → `
!CAT,!DEF,!TEM,1,2,3,4,5,6,7,8,9,10,E,P,T`

: `
{{#getmaparray:大战争音乐名/日文|\n|key}}`
 → `
!CAT !DEF !TEM 1 2 3 4 5 6 7 8 9 10 E P T`
（空格实为回车）
: `
{{#getmaparray:大战争音乐名/日文|&lt;br /&gt;|pair}}`
 → `
!CAT 音乐名  
!DEF 缺少参数  
!TEM 大战争音乐名  
1 春の氷精  
2 可愛い大戦争のリフレーン  
3 いたずらに命をかけて  
4 年中夢中の好奇心  
5 真夜中のフェアリーダンス  
6 妖精大戦争　～ Fairy Wars  
7 ルーズレイン  
8 メイガスナイト  
9 春の氷精　- 静 -  
10 プレイヤーズスコア  
E 春の氷精　- 静 -  
P プレイヤーズスコア  
T 春の氷精`


### getmapname
  
获取指定分类下的映射表名称列表，分类名称为空时会获取所有映射表。可以通过填写排序方式根据创建时间（id）、映射表名称（name）或!SOR（sort）属性来排序，不填写则不排序。
  

格式
: `
{{#getmapname: 映射表分类名称 | 排序方式（id、name或sort，默认为空） | 分隔符（默认为回车） }}`

例子
: 
: `
{{#getmapname:音乐名日文|sort|，}}`
 → 七夕坂梦幻能音乐名/日文，虹色的北斗七星音乐名/日文，灵异传音乐名/日文，封魔录音乐名/日文，梦时空音乐名/日文，幻想乡音乐名/日文，怪绮谈音乐名/日文，红魔乡音乐名/日文，妖妖梦音乐名/日文，萃梦想音乐名/日文，永夜抄音乐名/日文，花映塚音乐名/日文，文花帖音乐名/日文，风神录音乐名/日文，绯想天音乐名/日文，地灵殿音乐名/日文，星莲船音乐名/日文，非想天则音乐名/日文，文花帖DS音乐名/日文，大战争音乐名/日文，神灵庙音乐名/日文，心绮楼音乐名/日文，辉针城音乐名/日文，天邪鬼音乐名/日文，深秘录音乐名/日文，绀珠传音乐名/日文，凭依华音乐名/日文，天空璋音乐名/日文，噩梦日记音乐名/日文，鬼形兽音乐名/日文，刚欲异闻音乐名/日文，虹龙洞音乐名/日文，兽王园音乐名/日文，GoM音乐名/日文，三月精E音乐名/日文，三月精O音乐名/日文，三月精S音乐名/日文，儚月抄音乐名/日文，外来韦编音乐名/日文，文花帖（书籍）音乐名/日文，求闻史纪音乐名/日文，铃奈庵音乐名/日文，幺乐团1音乐名/日文，幺乐团2音乐名/日文，幺乐团3音乐名/日文，幺乐团4音乐名/日文，幺乐团5音乐名/日文，蓬莱人形音乐名/日文，莲台野夜行音乐名/日文，梦违科学世纪音乐名/日文，卯酉东海道音乐名/日文，大空魔术音乐名/日文，未知之花音乐名/日文，鸟船遗迹音乐名/日文，伊奘诺物质音乐名/日文，燕石博物志音乐名/日文，旧约酒馆音乐名/日文，秋霜玉音乐名/日文，稀翁玉音乐名/日文，幡紫龙音乐名/日文，8MPF音乐名/日文，Cradle音乐名/日文，ILE音乐名/日文，TLM音乐名/日文，幻想怀古曲音乐名/日文，幻想的音乐音乐名/日文，幻想麻雀音乐名/日文，神魔讨绮传音乐名/日文，黄昏酒场音乐名/日文，东方音焰火音乐名/日文





---

此文档由 [THBWiki-Markdown-Builder](https://github.com/Delsin-Yu/THBWiki-Markdown-Builder) 构建。

文档中的所有内容除特殊注明外，均在 [**知识共享(Creative Commons) 署名-非商业性使用-相同方式共享 3.0 协议**](https://creativecommons.org/licenses/by-sa/3.0/deed.zh-hans) 下提供，附加条款亦可能应用。

引用类型与其他类型作品版权归原作者所有，如有作者授权则遵照授权协议使用。

详细请查阅 [THBWiki：免责声明](https://thbwiki.cc/THBWiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E)。

