# 游戏攻略/STG常用工具/VsyncPatch/vpatch_readme

<!-- source html: G:\repos\THBWiki-Markdown-Builder\THBWikiMarkdown\Temp\main\e\e2\ns0%3A%E6%B8%B8%E6%88%8F%E6%94%BB%E7%95%A5%2FSTG%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%2FVsyncPatch%2Fvpatch_readme.html -->

使用了翻译表的页面

- 纯文本格式（Wiki系统将从本页面下方的翻译表中自动获取内容并拼接成纯文本格式的页面）

: [日文版](http://omake.thwiki.cc/translate.php?u=游戏攻略/STG常用工具/VsyncPatch/vpatch_readme&amp;t=ja)
: [汉化版](http://omake.thwiki.cc/translate.php?u=游戏攻略/STG常用工具/VsyncPatch/vpatch_readme&amp;t=zh)

  
  

  


<table><tbody><tr class="tt-content" id="=-1" data-pos="&#91;&quot;=&quot;,1&#93;"><td class="tt-ja" lang="ja"><div class="poem">VsyncPatch</div></td><td class="tt-zh" lang="zh"><div class="poem">VsyncPatch<br></div></td></tr><tr class="tt-content" id="=-2" data-pos="&#91;&quot;=&quot;,2&#93;"><td class="tt-ja" lang="ja"><div class="poem">■対応OS<br>確認済：Windows XP SP2 32bit版<br>非対応：NT系のAPIを使用しているため、95/98/Meは動作不可能<br>動作報告有：XP64bit、Vista32bit</div></td><td class="tt-zh" lang="zh"><div class="poem">■OS支持<br>已确认：Windows XP SP2 32bit版<br>不支持：因为使用了NT系的API，95/98/Me不能运行<br>有报告称能正常运行：XP64bit、Vista32bit<br></div></td></tr><tr class="tt-content" id="=-3" data-pos="&#91;&quot;=&quot;,3&#93;"><td class="tt-ja" lang="ja"><div class="poem">■対応ゲーム<br>東方紅魔郷 ver1.02h<br>東方妖々夢 ver1.00b<br>東方永夜抄 ver1.00d<br>東方花映塚 ver1.50a<br>東方文花帖 ver1.02a<br>東方風神録 ver1.00a<br>黄昏酒場   ver1.00a (web配布版)<br>東方地霊殿 ver1.00a<br>東方星蓮船 ver1.00b</div></td><td class="tt-zh" lang="zh"><div class="poem">■游戏支持<br>东方红魔乡 ver1.02h<br>东方妖妖梦 ver1.00b<br>东方永夜抄 ver1.00d<br>东方花映塚 ver1.50a<br>东方文花帖 ver1.02a<br>东方风神录 ver1.00a<br>黄昏酒场   ver1.00a (web发布版)<br>东方地灵殿 ver1.00a<br>东方星莲船 ver1.00b<br></div></td></tr><tr class="tt-content" id="=-4" data-pos="&#91;&quot;=&quot;,4&#93;"><td class="tt-ja" lang="ja"><div class="poem">■警告<br>本非公式パッチは、ゲームの内部動作を大幅に変更します<br>本パッチを当てると不具合がでるかもしれません<br>実行前にscore.dat等をバックアップすることを推奨します<br>また、十分に動作確認をした上でご使用ください<br>特に本パッチを使用した状態でリプレイを保存、公開される方はご注意ください<br>本パッチ適用時のリプレイに関しては、東方Projectスコアボードに投稿することはできません<br>リプレイをwebやuploder等で公開する場合は、VsyncPatchを使用していることを明記すると、<br>トラブルになりにくいかと思います<br>本パッチは非公式に作成したものです<br>公式に問い合わせないようにお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem">■警告<br>本非官方补丁大幅改变了游戏的内部行为<br>使用本补丁可能会导致bug<br>使用前建议备份score.dat等文件<br>另外，请在充分确认操作后使用<br>在使用本补丁的情况下保存或发布replay的玩家请注意<br>使用本补丁时的replay无法投稿至东方Project排行榜<br>通过网站和网盘等方式发布的情况，请明确表示使用了VsyncPatch，<br>以免造成不必要的麻烦<br>本补丁是第三方自行制作的<br>请不要向官方询问<br></div></td></tr><tr class="tt-content" id="=-5" data-pos="&#91;&quot;=&quot;,5&#93;"><td class="tt-ja" lang="ja"><div class="poem">■効果<br>本パッチを使用することにより、CPU使用率が常に100%になる現象を回避できます<br>紅魔郷の場合、環境によって、58fpsや62fps等で固定されてしまう現象を回避できます<br>妖々夢の場合、桜点が100万点を超えると表示がおかしくなりますが、これを修正できます<br>風神録の場合、windowモードで50fpsになったりする現象を回避できます<br>風神録の場合、確実に垂直同期されるため遅延を感じることがありますが、これも回避できます<br>リプレイを再生するとき、skipボタンを押下すると高速再生できます<br>垂直同期を取っても、入力遅延を少なくすることができます<br>低性能なPCで垂直同期OFFの状態でプレイすると、<br>弾幕が多く表示される高負荷の場面にて、表示がかくつくことがありますが、<br>これも緩和することができます<br>ゲームを60fps以外で、例えば120fpsで変態プレイができます(要高性能PC)</div></td><td class="tt-zh" lang="zh"><div class="poem">■功能<br>使用本补丁可以避免CPU占用率经常达到100%的问题<br>对于红魔乡，可以避免不同环境下帧数被固定在 58fps 、 62fps 等（非60帧固定值）的问题<br>对于妖妖梦，修复了樱点超过100万后产生的奇怪的显示问题<br>对于风神录，可以避免窗口模式下帧率变为50fps的问题<br>对于风神录，避免了因垂直同步导致的操作延迟问题<br>播放replay时，可以按下跳过键进行快进<br>即使使用垂直同步，也可以减少输入延迟<br>如果在低性能PC上关闭垂直同步进行游玩，<br>在显示较多弹幕的高负载场景，显示可能会被遮挡，<br>本补丁可以缓解这个问题<br>可以将游戏以60fps以外的帧率，例如以120fps进行大触游玩（要求高性能PC）<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">1</a></sup><br></div></td></tr><tr class="tt-content" id="=-6" data-pos="&#91;&quot;=&quot;,6&#93;"><td class="tt-ja" lang="ja"><div class="poem">■再配布<br>ご自由に再配布してくださってかまいません<br>ただし、zip内のファイルを変更・追加せず<br>そのままの状態で再配布をお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem">■转载<br>可以随意转载<br>但请不要修改压缩包内的文件，或向其中添加文件<br>请保持原样转载<br></div></td></tr><tr class="tt-content" id="=-7" data-pos="&#91;&quot;=&quot;,7&#93;"><td class="tt-ja" lang="ja"><div class="poem">■ファイル<br>vpatch.exe<br>dllを東方.exeにインジェクションするための実行ファイル<br>東方をプレイしたい時はこの実行ファイルを実行してください<br>※vpatch.exeは、東方.exeのファイル内容を書き換えるものではありません<br>※本パッチを適用した状態で東方をプレイしたい時は、<br>※必ずvpatch.exeを実行する必要があります</div></td><td class="tt-zh" lang="zh"><div class="poem">■ 文件<br>vpatch.exe<br>将dll注入 東方.exe 的可执行文件<br>玩东方时请运行这个文件<br>※vpatch.exe 不会改写 東方.exe 的文件内容<br>※如果您想在应用本补丁的情况下玩东方，<br>※请务必运行 vpatch.exe<br></div></td></tr><tr class="tt-content" id="=-8" data-pos="&#91;&quot;=&quot;,8&#93;"><td class="tt-ja" lang="ja"><div class="poem">vpatch_th??.dll<br>各東方シリーズ用のパッチ本体<br>このdllがvpatch.exeによってゲーム上にLoadされ、<br>メモリ上の実行コードが書き換えられます</div></td><td class="tt-zh" lang="zh"><div class="poem">vpatch_th??.dll<br>用于东方系列各作品的补丁本体<br>此 dll 通过 vpatch.exe 加载到游戏中，<br>重写内存中的执行代码<br></div></td></tr><tr class="tt-content" id="=-9" data-pos="&#91;&quot;=&quot;,9&#93;"><td class="tt-ja" lang="ja"><div class="poem">■インストール<br>vpatch.exe、vpatch_th??.dll、vpatch.iniのファイルを<br>東方シリーズをインストールしたフォルダにコピーしてください<br>iniファイルは無くても一応動作します</div></td><td class="tt-zh" lang="zh"><div class="poem">■安装<br>请将 vpatch.exe、vpatch_th??.dll、vpatch.ini 文件<br>复制到东方系列作品的安装目录下<br>即使没有ini文件也可以工作<br></div></td></tr><tr class="tt-content" id="=-10" data-pos="&#91;&quot;=&quot;,10&#93;"><td class="tt-ja" lang="ja"><div class="poem">紅魔郷の場合はvpatch.exeとvpatch_th06.dllとvpatch.ini<br>妖々夢の場合はvpatch.exeとvpatch_th07.dllとvpatch.ini<br>永夜抄の場合はvpatch.exeとvpatch_th08.dllとvpatch.ini<br>花映塚の場合はvpatch.exeとvpatch_th09.dllとvpatch.ini<br>文花帖の場合はvpatch.exeとvpatch_th095.dllとvpatch.ini<br>風神録の場合はvpatch.exeとvpatch_th10.dllとvpatch.ini<br>地霊殿の場合はvpatch.exeとvpatch_th11.dllとvpatch.ini<br>星蓮船の場合はvpatch.exeとvpatch_th12.dllとvpatch.ini<br>黄昏酒場の場合はvpatch.exeとvpatch_alcostg.dllとvpatch.ini</div></td><td class="tt-zh" lang="zh"><div class="poem">对于红魔乡，复制vpatch.exe和vpatch_th06.dll和vpatch.ini<br>对于妖妖梦，复制vpatch.exe和vpatch_th07.dll和vpatch.ini<br>对于永夜抄，复制vpatch.exe和vpatch_th08.dll和vpatch.ini<br>对于花映塚，复制vpatch.exe和vpatch_th09.dll和vpatch.ini<br>对于文花帖，复制vpatch.exe和vpatch_th095.dll和vpatch.ini<br>对于风神录，复制vpatch.exe和vpatch_th10.dll和vpatch.ini<br>对于地灵殿，复制vpatch.exe和vpatch_th11.dll和vpatch.ini<br>对于星莲船，复制vpatch.exe和vpatch_th12.dll和vpatch.ini<br>对于黄昏酒场，复制vpatch.exe和vpatch_alcostg.dll和vpatch.ini<br></div></td></tr><tr class="tt-content" id="=-11" data-pos="&#91;&quot;=&quot;,11&#93;"><td class="tt-ja" lang="ja"><div class="poem">※パッチの動作不良で、score.dat等がおかしくなる可能性もあるかもしれません<br>※念のためバックアップをとってからパッチを実行するようにしてください<br>※また、本ツール上からはゲームのversionをチェックしていないので、<br>※対応しているかどうか確認してください<br>※vpatch.exeは、vpatchという名のつくdllを同じフォルダ内で検索し、<br>※最初に見つかったdllをロードします<br>※したがって、同じフォルダ内に別のvpatch dllがあると、うまく起動できません<br>※東方シリーズをインストールしたフォルダには、<br>※対応しているdllのみを入れるようにしてください</div></td><td class="tt-zh" lang="zh"><div class="poem">※存在由于补丁故障而导致score.dat等文件损坏的可能<br>※使用补丁前请做好备份以防万一<br>※此外，由于本工具没有检查游戏版本，<br>※请自行检查是否支持<br>※vpatch.exe会在同目录下查找文件名中含有vpatch的dll，<br>※并加载找到的第一个dll<br>※因此，如果同目录下还有另一个 vpatch dll，它将无法正常启动<br>※在东方系列作品的安装目录中，<br>※请不要放入该作品以外的dll<br></div></td></tr><tr class="tt-content" id="=-12" data-pos="&#91;&quot;=&quot;,12&#93;"><td class="tt-ja" lang="ja"><div class="poem">■アンインストール<br>インストール時にコピーしたexeとdll及びiniファイルを削除してください<br>また、ゲーム上の「垂直同期を取らない」設定にチェックが入っているので、<br>垂直同期をONにしてプレイしたい場合は、<br>custom.exeを起動し「垂直同期を取らない」設定のチェックを消してください</div></td><td class="tt-zh" lang="zh"><div class="poem">■卸载<br>请删除安装时复制的exe、dll和ini文件<br>此外，由于勾选了游戏中的「不使用垂直同步」选项，<br>若想要在开启垂直同步的情况下游玩，<br>请开启custom.exe并取消勾选「不使用垂直同步」选项<br></div></td></tr><tr class="tt-content" id="=-13" data-pos="&#91;&quot;=&quot;,13&#93;"><td class="tt-ja" lang="ja"><div class="poem">■起動オプション<br>vpatch.exeを起動する際、コマンドライン引数で、ロードするiniファイルを指定することができます<br>iniファイルのPathは、相対Pathでも絶対Pathでもファイル名のみでもかまいません<br>ファイル名だけを書くと、vpatch.exeと同じフォルダにあるiniファイルが読み込まれます<br>例：<br>※vpatch.exeの存在するフォルダが C:\Program Files\TH\kouma\ の場合<br>vpatch.exe "C:\Program Files\TH\vpatch_120fps.ini"<br>　C:\Program Files\TH\vpatch_120fps.ini が読み込まれます<br>vpatch.exe ini\vpatch_120fps.ini<br>　C:\Program Files\TH\kouma\ini\vpatch_120fps.ini が読み込まれます<br>vpatch.exe vpatch_120fps.ini<br>　C:\Program Files\TH\kouma\vpatch_120fps.ini が読み込まれます</div></td><td class="tt-zh" lang="zh"><div class="poem">■启动选项<br>在启动vpatch.exe时，可以使用命令行参数指定要加载的ini文件<br>无论是使用相对路径、绝对路径还是只有文件名都可以指定ini文件的路径<br>若只给出文件名，将会读取vpatch.exe所在目录内的ini文件<br>示例：<br>※假设 vpatch.exe 位于 C:\Program Files\TH\kouma\<br>vpatch.exe "C:\Program Files\TH\vpatch_120fps.ini"<br>　将会加载C:\Program Files\TH\vpatch_120fps.ini<br>vpatch.exe ini\vpatch_120fps.ini<br>　将会加载C:\Program Files\TH\kouma\ini\vpatch_120fps.ini<br>vpatch.exe vpatch_120fps.ini<br>　将会加载C:\Program Files\TH\kouma\vpatch_120fps.ini<br></div></td></tr><tr class="tt-content" id="=-14" data-pos="&#91;&quot;=&quot;,14&#93;"><td class="tt-ja" lang="ja"><div class="poem">■注意事項<br>custom.exe上で<br>　Windowモード、描画間隔=毎回<br>上記の設定で動作確認をしました<br>この設定以外でうまく動作するかどうかはわかりません<br>※本パッチを起動すると、ゲーム上の「垂直同期を取らない」設定が自動的にONにされます<br>※描画間隔=毎回、以外にすると、ゲーム速度が倍速化することもあります<br>※申し訳ないですが、毎回以外は非対応ということでお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem">■注意事项<br>custom.exe中<br>　窗口模式、绘制周期=每次<br>使用上述设定确认可以正常使用<br>不确定使用了不同的设定是否可以正常使用<br>※若启动本补丁，游戏中「不使用垂直同步」设定将被自动开启<br>※若使用 绘制周期=每次 以外的设定，游戏速度可能会倍增<br>※很抱歉，但你可以理解为不支持 每次 以外的设定<br></div></td></tr><tr class="tt-content" id="=-15" data-pos="&#91;&quot;=&quot;,15&#93;"><td class="tt-ja" lang="ja"><div class="poem">■iniファイル<br>[Window]<br>AskWindowMode = 0以外を指定するとWindow or FullScreenを選択できるダイアログが起動時に表示されます<br>enabled = 0以外なら下記のWindow設定を有効にします(Windowモード時にWindowサイズや位置を変更できます)<br>X = 画面のX座標を指定<br>Y = 画面のY座標を指定<br>Width = ゲーム画面の幅を設定(default:640)<br>Height = 高さを設定(default:480)<br>TitleBar = 0を指定するとタイトルバーを消してゲーム画面のみにします<br>AlwaysOnTop = 0以外を指定すると常に手前に表示します</div></td><td class="tt-zh" lang="zh"><div class="poem">■ini文件<br>[Window]<br>若指定AskWindowMode为0以外的值，将会在启动时显示Window or FullScreen对话框<br>若指定enabled为0以外的值，将会应用下列窗口设定(窗口模式下可以改变窗口的大小与位置)<br>X = 指定画面的X坐标<br>Y = 指定画面的Y坐标<br>Width = 游戏画面宽度设定(default:640)<br>Height = 高度设定(default:480)<br>若指定TitleBar = 0，将隐藏标题栏而只显示游戏画面<br>若指定AlwaysOnTop为0以外的值，将会置顶显示<br></div></td></tr><tr class="tt-content" id="=-16" data-pos="&#91;&quot;=&quot;,16&#93;"><td class="tt-ja" lang="ja"><div class="poem">[Option]<br>Vsync (デフォルト=0)<br>　※地霊殿と星蓮船については、custom.exeの"入力のレイテンシ"の設定が優先されます<br>　※自動はVsync=1、高速はVsync=0として動作します</div></td><td class="tt-zh" lang="zh"><div class="poem">[Option]<br>Vsync (默认=0)<br>　※对于地灵殿和星莲船<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">2</a></sup>，优先使用custom.exe中的"输入模式"的设定<br>　※自动对应Vsync=1、高速对应Vsync=0<br></div></td></tr><tr class="tt-content" id="=-17" data-pos="&#91;&quot;=&quot;,17&#93;"><td class="tt-ja" lang="ja"><div class="poem">　0を指定すると垂直同期をせずに、描画を行います</div></td><td class="tt-zh" lang="zh"><div class="poem">　若设置为0，则不使用垂直同步进行绘制<br></div></td></tr><tr class="tt-content" id="=-18" data-pos="&#91;&quot;=&quot;,18&#93;"><td class="tt-ja" lang="ja"><div class="poem">　1を指定すると独自の方法で垂直同期をとり、描画を行います<br>　Gameの速度(fps)は、リフレッシュレートと同じになります</div></td><td class="tt-zh" lang="zh"><div class="poem">　若设置为1，则使用自制的垂直同步方法进行绘制<br>　游戏速度(fps)将会与刷新率同步<br></div></td></tr><tr class="tt-content" id="=-19" data-pos="&#91;&quot;=&quot;,19&#93;"><td class="tt-ja" lang="ja"><div class="poem">　2を指定すると、垂直同期を取りつつ、GameFPSに設定されたfpsで描画を行います<br>　リフレッシュレートが60Hz以外でも60fps(GameFPS)に近いレートで描画が可能ですが、<br>　均等なレートで画面が更新できないため、弾の移動等が滑らかに描画できない可能性があります<br>　※CalcFPS=0にしている場合は、fps表示が不安定になることがあります(59fps～61fps辺りをふらつく)<br>　※CalcFPS=1の場合でも、多少不安定になることがありますが、四捨五入時には60fpsになると思います</div></td><td class="tt-zh" lang="zh"><div class="poem">　若设置为2，则在保持垂直同步的同时以 GameFPS 中设置的 fps 绘制<br>　即使刷新率不是60Hz，也可以以接近60fps(GameFPS)的速率进行绘制，<br>　由于屏幕无法以均匀的速度刷新画面，因此可能无法流畅地绘制子弹的移动等<br>　※在CalcFPS=0的情况下，fps显示可能会不稳定(59fps～61fps左右浮动)<br>　※即使在CalcFPS=1的情况下，也可能会有点不稳定，但四舍五入应该是60fps<br></div></td></tr><tr class="tt-content" id="=-20" data-pos="&#91;&quot;=&quot;,20&#93;"><td class="tt-ja" lang="ja"><div class="poem">　3を指定すると、走査線が画面の中央に来たときに描画を行います<br>　Gameの速度(fps)は、リフレッシュレートと同じになります<br>　必ず画面の中央付近でティアリングが起こるようになりますが、<br>　Vsync=1の時と比べて、画面の下半分の領域の描画遅延が8ms程度少なくなります(60Hz時)<br>　主に画面下でキャラを操作する人向きです<br>　※画面上半分は8ms～16ms程度の描画遅延が起こります<br>　※ちなみにVsync=1の時は、画面上半分は0～8ms程度の描画遅延、画面下半分は8ms～16ms程度の描画遅延が起こります<br>　※Vsync=0の描画遅延は、描画タイミングが不定のため、描画遅延も不定(0～16ms)です</div></td><td class="tt-zh" lang="zh"><div class="poem">　若设置为3，则在扫描线位于屏幕中央时绘制<br>　游戏速度(fps)将会与刷新率同步<br>　撕裂总是发生在画面中心附近，<br>　但与Vsync=1时相比，画面的下半部分的绘制延迟将会减少8ms左右(60Hz时)<br>　主要针对在画面底部操作角色的玩家<br>　※画面上半部分将会有8ms到16ms左右的绘制延迟<br>　※顺带一提，在Vsync=1时，画面上半部分有0～8ms左右的绘制延迟，而画面下半部分有8ms～16ms左右的绘制延迟<br>　※Vsync=0的绘制延迟，由于绘制时机是不确定的，绘制延迟也不确定(0～16ms)<br></div></td></tr><tr class="tt-content" id="=-21" data-pos="&#91;&quot;=&quot;,21&#93;"><td class="tt-ja" lang="ja"><div class="poem">　ディスプレイの走査線は、画面の上端から下端方向へ向かっていきます<br>　下端まで走査するのにかかる時間は、640x480 60Hz時で、およそ15ミリ秒です<br>　つまり、ディスプレイに画像が完全に表示されるまでに16ms近くかかるわけですから、<br>　ディスプレイに表示された時点で既に1フレーム(16ms)遅延しているということです<br>　また、上から下へ走査されるため、下へ行くほど遅延が大きいです</div></td><td class="tt-zh" lang="zh"><div class="poem">　显示器的扫描线从屏幕的顶部边缘到底部边缘<br>　在640x480 60Hz时，扫描到底部大约需要 15 毫秒<br>　也就是说，由于显示器完全显示图像需要接近16ms，<br>　当图像在显示器上显示的这一刻，已经有了1帧(16ms)的延迟<br>　另外，由于它是从上到下扫描的，因此延迟会随着向下扫描而增加。<br></div></td></tr><tr class="tt-content" id="=-22" data-pos="&#91;&quot;=&quot;,22&#93;"><td class="tt-ja" lang="ja"><div class="poem">　vpatchでは、vsyncをonにするよりもoffにした方が、プレイ時に表示される処理落ち率は低くなる傾向があります<br>　vsync on時では、走査線の周期に合わせて描画タイミングを調整する必要があり、どうしてもフレーム落ちが多く発生します<br>　vsync off時では、フレーム落ちが発生するシーンでも、常に最速のタイミングで描画が行えるようにしてあります<br>　低スペックマシンではvsync offをおすすめします<br>　※vpatch未使用時の場合は、内部コードのアルゴリズム上、custom.exeでvsync offにしても、<br>　※最速のタイミングでは描画されないことが多く、vsync on時とあまり変わらないかもしれません</div></td><td class="tt-zh" lang="zh"><div class="poem">　对于vpatch，在关闭vsync时，游玩过程中显示的处理落率往往比打开vsync时低<br>　在vsync开启的情况下，有必要调整绘图的时间以配合扫描线的周期，这不可避免地会导致更多的丢帧<br>　在关闭vsync的情况下，即使在发生掉帧的场景中，也总是使用尽可能快的时间进行渲染<br>　建议低配电脑关闭vsync<br>　※在不使用vpatch的情况下，由于内部代码的算法，即使在custom.exe中关闭vsync，<br>　※也很少能以最快的时间渲染，与打开vsync应该没有什么区别</div></td></tr><tr class="tt-content" id="=-23" data-pos="&#91;&quot;=&quot;,23&#93;"><td class="tt-ja" lang="ja"><div class="poem">　vsync off時のティアリングを極力抑えるには、ディスプレイのリフレッシュレートを85Hzにすると良いでしょう<br>　フレームごとに全く違う場所でティアリングが起こるため、人によってはティアリングを全く感じなくなります</div></td><td class="tt-zh" lang="zh"><div class="poem">　为了尽量减少关闭vsync时的撕裂现象，将显示器的刷新率设置为85Hz可能会有帮助<br>　因为每一帧的撕裂发生在完全不同的地方，人眼根本不会注意到任何撕裂</div></td></tr><tr class="tt-content" id="=-24" data-pos="&#91;&quot;=&quot;,24&#93;"><td class="tt-ja" lang="ja"><div class="poem">　Vsync=1の垂直同期は、東方本家の垂直同期とは違い、入力遅延はほとんどありません<br>　裏画面に次のフレームを描画している最中に垂直帰線消去期間(VBlank)を過ぎた場合は、<br>　同期せずにすぐに描画します<br>　つまり、この場合はティアリングが発生しますが、遅延せずに描画が可能です<br>　Vsync=1にする場合は、モニタのリフレッシュレートを60Hzにする必要があります<br>　PC環境により、ぴったり60.00fpsで描画できない可能性があります<br>　(59.75fpsだったり60.10fpsだったりします)<br>　これは走査線の速度がぴったり60.00Hzではないということです(仕様です)</div></td><td class="tt-zh" lang="zh"><div class="poem">　Vsync=1的垂直同步与东方原作的垂直同步不同，几乎没有任何输入延迟<br>　如果垂直空白期（VBlank）已过，而下一帧正在后屏幕上绘制的情况<br>　下一帧将跳过同步，立即绘制<br>　也就是说，虽然在这种情况下会出现撕裂现象，但可以无延迟进行渲染<br>　如果你设置Vsync=1，你需要将显示器刷新率设置为60Hz。<br>　根据PC环境的不同，可能无法准确地以60.00fps的速度进行渲染<br>　(有时为59.75fps，有时为60.10fps)<br>　这意味着扫描率不完全是60.00Hz（规范）</div></td></tr><tr class="tt-content" id="=-25" data-pos="&#91;&quot;=&quot;,25&#93;"><td class="tt-ja" lang="ja"><div class="poem">　Vsync=0にして、60.00fpsでGameが動作している時に、<br>　ティアリングが発生しているLineが、上か下に微妙に少しずつずれていくのが<br>　目で確認できると思います<br>　ティアリングが発生しているLineが、全く同じ箇所で起こっているならば、<br>　走査線の速度はぴったり60.00Hzということです<br>　ティアリングが発生しているLineが、上に移動していくなら、走査線の速度は<br>　60.00Hzよりも遅いです<br>　逆に、下に移動していくなら、60.00Hzよりも速いということです<br>　60.00Hzぴったりの環境は、ほとんどないと思います</div></td><td class="tt-zh" lang="zh"><div class="poem">　如果你设置Vsync=0，并且游戏以60.00fps的速度运行，<br>　你应该可以看到<br>　撕裂线在轻微上下抖动<br>　如果撕裂发生在完全相同的地方，就说明，<br>　扫描线的速度正好是60.00Hz。<br>　如果撕裂线是向上移动的，就说明，<br>　扫描线的速度慢于60.00Hz<br>　反之如果线是向下移动的，那么它就比60.00Hz快<br>　几乎没有正好是60.00Hz的环境</div></td></tr><tr class="tt-content" id="=-26" data-pos="&#91;&quot;=&quot;,26&#93;"><td class="tt-ja" lang="ja"><div class="poem">　PC環境によってはリフレッシュレートを60Hzに設定しても、<br>　実際には75fpsになることもあります<br>　グラフィックドライバ ForceWare 94.24 にて、この現象を確認しています<br>　GeForce/ION Driver 186.18 では、問題無しです<br>　GeForce6・GeForce7の推奨ドライバverのひとつに94.24が含まれているため、<br>　94.24を使用されている環境は多いかもしれません ご注意下さい<br>　リフレッシュレート設定がうまくできないverは94.24以外にもあるかもしれません<br>　94.24は、風・地のタイトル画面で画面がバグる現象もまれに起こります</div></td><td class="tt-zh" lang="zh"><div class="poem">　在一些PC环境中，即使将刷新率设置为60 Hz，<br>　但实际刷新率可能为75fps<br>　我们已经确认ForceWare 94.24图形驱动存在这种现象<br>　而使用GeForce/ION Driver 186.18则没有问题<br>　由于94.24是GeForce6和GeForce7的推荐驱动版本之一，<br>　94.24的使用可能非常广泛，请多加注意<br>　除了94.24之外，可能还有其他版本不能正确设置刷新率<br>　少见的情况下94.24还会导致风神录、地灵殿的标题画面出现错误</div></td></tr><tr class="tt-content" id="=-27" data-pos="&#91;&quot;=&quot;,27&#93;"><td class="tt-ja" lang="ja"><div class="poem">　VGAデバイスが走査線の読み取りをサポートしていない場合は、<br>　Vsync機能は自動的にOFFになります</div></td><td class="tt-zh" lang="zh"><div class="poem">　如果你的VGA设备不支持读取扫描线，<br>　Vsync功能将被自动关闭</div></td></tr><tr class="tt-content" id="=-28" data-pos="&#91;&quot;=&quot;,28&#93;"><td class="tt-ja" lang="ja"><div class="poem">SleepType (デフォルト=1)<br>　FPS制御を完璧にするかどうかの設定です<br>　0の場合は、Sleep復帰後すぐに描画するようにします<br>　0を指定するとPC環境によってはFPS表示がかなりふらつきますが、CPU負荷はかなり低いです<br>　1にすると、Sleepする時刻を1ミリ秒少なくし、<br>　Sleep復帰後、描画時刻を調査して、描画時刻ぴったりに描画するようにします<br>　-1にすると、Sleepの精度を調査して、高精度の場合はSleepTypeを0にします<br>　低精度の場合は、SleepTypeを1にします<br>　※通常は1にしてください<br>　※どうしても低負荷で動作させる必要がある場合は0を設定してください<br>　※SleepType=0にした場合は、Vsync=1にする場合、正常にvsyncできない可能性があります</div></td><td class="tt-zh" lang="zh"><div class="poem">SleepType（默认=1）<br>　此设置决定FPS控制是否完美<br>　当设置为0时，游戏将在Sleep恢复后立即绘制画面<br>　设置为0时，根据PC环境，FPS显示将会十分错乱，但CPU负载将会十分低<br>　设置为1时，Sleep时间会减少1毫秒，<br>　并在恢复后检查绘制时间，然后在准确的绘制时间进行绘制<br>　设置为-1时，检查Sleep的准确性，如果精度高，SleepType将被设置为0<br>　如果精度低，SleepType将被设置为1<br>　※一般情况请设置为1<br>　※无论如何也想降低运行负荷的情况下，将SleepType设置为0<br>　※SleepType=0并且Vsync = 1的情况下，vsync可能无法正常运作</div></td></tr><tr class="tt-content" id="=-29" data-pos="&#91;&quot;=&quot;,29&#93;"><td class="tt-ja" lang="ja"><div class="poem">BltPrepareTime (デフォルト=4)<br>　実際に画面に表示される何ミリ秒前に、<br>　裏画面に次のフレームを描画し始めるかを指定します<br>　0～16の数字を指定してください<br>　数字が大きいほど入力遅延を感じますが、<br>　大量の弾幕がある高負荷な状態でも滑らかに表示できます<br>　高速なPCなら4～6程度を、低速なPCなら10程度を指定してください<br>　描画が滑らかにならない場合は、1ずつ増やしてテストしてください<br>　入力遅延を感じる場合は、1ずつ減らしてテストしてください<br>　Vsync=1にする場合は、BltPrepareTimeは0より大きい数値を設定してください<br>　0にすると必ずティアリングが発生します<br>　BltPrepareTime=0にすると、裏画面に描画後、ただちに表画面に転送しますが、<br>　裏画面に描画する時間が弾幕の量によってまちまちなため、<br>　常に一定の描画間隔で表示できず、結果、かくつきを感じやすくなります<br>　(特に低性能なPCでより大きなかくつきを感じます)<br>　※AutoBltPrepareTime=1の場合は、BltPrepareTimeの設定は無視されます<br>　※BltPrepareTimeの設定を有効にしたい場合は、必ずAutoBltPrepareTime=0にする必要があります<br>　※BltPrepareTime=-1にした場合は、強制的にAutoBltPrepareTime=1が設定されます</div></td><td class="tt-zh" lang="zh"><div class="poem">BltPrepareTime（默认=4）。<br>　下一帧实际显示在屏幕上之前的毫秒数<br>　控制下一帧绘制开始的时机<br>　请设置一个0到16之间的数字<br>　虽然数字越大，就会感觉到更大的输入延迟<br>　但在有大量子弹的重负荷下，游戏会更流畅<br>　对于高速的PC，请设置4到6左右的数字，对于慢速的PC，请设置10左右的数字<br>　如果渲染不流畅，请尝试将这个数字加1<br>　如果你感觉输入有延迟，请尝试将这个数字减1<br>　当设置Vsync=1时，BltPrepareTime应该被设置为一个大于0的数字<br>　若设置为0则必然导致撕裂<br>　虽然将BltPrepareTime设置为0时，画面将在显卡中绘制后立即转移到屏幕<br>　但由于在显卡中绘制的时间根据子弹的数量而变化<br>　所以并不总是能够以固定的时间间隔显示子弹，因此会感到画面卡顿、不稳定<br>　（这在低性能PC上尤其明显）<br>　※如果AutoBltPrepareTime=1，BltPrepareTime设置将被忽略<br>　※如果你想启用BltPrepareTime设置，必须将AutoBltPrepareTime设置为0<br>　※BltPrepareTime=-1的情况下，将强制设置AutoBltPrepareTime为1</div></td></tr><tr class="tt-content" id="=-30" data-pos="&#91;&quot;=&quot;,30&#93;"><td class="tt-ja" lang="ja"><div class="poem">AutoBltPrepareTime (デフォルト=1)<br>　0を指定した場合は、何もしません<br>　1以上を指定すると、描画完了時間の統計を取り、最適なBltPrepareTimeを自動でセットします<br>　自動で算出されるBltPrepareTimeは、常に少なめに算出されます<br>　AutoBltPrepareTimeを1以上にすると、この値のミリ秒分、自動算出された値に加算されます<br>　vsyncがうまくできない場合は、2～4程度にすると、うまくいくかもしれません<br>　vsyncがうまくできない場合は、LockBackBuffer=1の設定も試してください<br>　※AutoBltPrepareTimeを1にすると、BltPrepareTimeの設定は無視されます<br>　※BltPrepareTime=-1にした場合は、AutoBltPrepareTimeの設定は無視されます</div></td><td class="tt-zh" lang="zh"><div class="poem">AutoBltPrepareTime（默认=1）。<br>　设置为0则不起任何作用<br>　设置为1以上时，将会对绘图的完成时间进行统计，并自动设置最佳的BltPrepareTime<br>　自动计算的BltPrepareTime总是倾向更低<br>　如果AutoBltPrepareTime被设置为1以上，将会以毫秒为单位在自动计算的值的基础上加上这个值<br>　如果vsync不起作用，将其设置为2-4可能有帮助<br>　如果vsync不起作用，你也可以尝试设置LockBackBuffer=1<br>　※AutoBltPrepareTime设置为1时，BltPrepareTime设置将被忽略<br>　※BltPrepareTime设置为-1时，AutoBltPrepareTime设置将被忽略</div></td></tr><tr class="tt-content" id="=-31" data-pos="&#91;&quot;=&quot;,31&#93;"><td class="tt-ja" lang="ja"><div class="poem">AllowShortDelay (デフォルト=0)<br>　0を指定した場合は、何もしません<br>　1を指定すると、重いシーンで描画時間がかかり過ぎても、短い遅延は遅延が無いものとして扱います<br>　1を指定した場合は、平均的なフレームレートをより高く維持することができますが、<br>　副作用で、遅れを取り戻す際に、一時的にフレームレートを高めるため、<br>　かくつきを感じるかもしれません<br>　処理落ち率を減らしたい場合は、AllowShortDelay=1にしてください<br>　高GameFPS(例えば120fps)でプレイする場合、AllowShortDelay=1にすると安定しやすいです</div></td><td class="tt-zh" lang="zh"><div class="poem">AllowShortDelay（默认=0）<br>　设置为0则不起任何作用<br>　设置为1时，即使复杂的场景需要过于长的时间来绘制，短时间的延迟将被视为没有延迟<br>　设置为1时，虽然得以保持较高的平均帧率，<br>　但副作用是，当游戏从延迟中恢复时，帧率会暂时增加，<br>　所以你可能会遇到一些不流畅的情况<br>　想降低处理落率的情况，请设置AllowShortDelay=1。<br>　如果你在高GameFPS（例如120fps）下进行游戏，设置AllowShortDelay=1来使游戏更加稳定</div></td></tr><tr class="tt-content" id="=-32" data-pos="&#91;&quot;=&quot;,32&#93;"><td class="tt-ja" lang="ja"><div class="poem">GameFPS (デフォルト=60)<br>　ゲームするFPSを指定します<br>　通常は60を指定してください<br>　60未満の数値は指定できません<br>　※Vsync=1の場合は、モニタのリフレッシュレートと同じFPSになり、<br>　※GameFPSは無視されます</div></td><td class="tt-zh" lang="zh"><div class="poem">GameFPS (默认=60)<br>　设置游戏的FPS<br>　通常设置为60<br>　不能设置为低于60的值<br>　※如果Vsync=1，FPS将与显示器的刷新率相同<br>　※GameFPS将被忽略</div></td></tr><tr class="tt-content" id="=-33" data-pos="&#91;&quot;=&quot;,33&#93;"><td class="tt-ja" lang="ja"><div class="poem">ReplaySkipFPS (デフォルト=240)<br>　リプレイを再生しているときにskipボタンを押下すると、<br>　ReplaySkipFPSのレートで再生できます<br>　このオプションは、描画する速度を変更するだけです<br>　Direct3D命令の呼び出しを省略して内部変数だけを変更してフレームを飛ばす、<br>　というわけではありません<br>　高いFPSを設定しても、低性能なPC環境では、そのレートまで出せない可能性があります<br>　対応ゲーム：紅魔郷、妖々夢、永夜抄、花映塚</div></td><td class="tt-zh" lang="zh"><div class="poem">ReplaySkipFPS（默认=240）。<br>　如果你在播放replay时按下跳过按钮<br>　replay将会以ReplaySkipFPS的帧率播放<br>　此配置项只会改变绘制的速度<br>　并不意味着你可以通过跳过对Direct3D指令的调用，<br>　而只是改变一个内部变量来跳过帧<br>　即使你设置了一个高的FPS，在低性能PC上也可能无法达到这个帧率<br>　支持游戏：红魔乡，妖妖梦，永夜抄，花映塚</div></td></tr><tr class="tt-content" id="=-34" data-pos="&#91;&quot;=&quot;,34&#93;"><td class="tt-ja" lang="ja"><div class="poem">ReplaySlowFPS (デフォルト=30)<br>　リプレイを再生しているときにslowボタンを押下すると、<br>　ReplaySlowFPSのレートで再生できます<br>　変態さんのリプレイを見る時に役に立つかもしれません<br>　対応ゲーム：紅魔郷、妖々夢、永夜抄、花映塚、風神録、黄昏酒場、星蓮船</div></td><td class="tt-zh" lang="zh"><div class="poem">ReplaySlowFPS（默认=30）。<br>　如果你在播放replay时按下低速按钮<br>　将会以ReplaySlowFPS的帧率播放<br>　在观看大触的replay时可能会派上用场<br>　支持的游戏: 红魔乡，妖妖梦，永夜抄，花映塚，风神录，星莲船<sup id="cite_ref-3" class="reference"><a href="#cite_note-3">3</a></sup></div></td></tr><tr class="tt-content" id="=-35" data-pos="&#91;&quot;=&quot;,35&#93;"><td class="tt-ja" lang="ja"><div class="poem">CalcFPS (デフォルト=1)<br>　0以外を指定すると、ゲーム上で表示されるFPS表示を、独自方法で算出するようにします<br>　妖々夢のFPS表示がおかしい場合は、1を指定すると改善されます<br>　GameFPSを60以外にしている場合は、1を指定しないとFPS表示が変になるかもしれません<br>　かなり正確なFPSが表示できると思われますので、CalcFPS=1を推奨します<br>　Vsync=1にしている場合は、ぴったり60.00FPSにはならないと思われます</div></td><td class="tt-zh" lang="zh"><div class="poem">CalcFPS (默认=1)<br>　如果你指定一个不为0的值，游戏中显示的FPS将以一种独特的方式计算<br>　如果你在妖妖梦中遇到了FPS显示的问题，设置为1会获得改善<br>　在GameFPS不为60的情况下，请将此配置项设置为1，否则FPS显示可能会不太正确<br>　推荐使用CalcFPS=1，因为它能提供相当准确的FPS<br>　如果你设置Vsync=1，可能不会正好显示为60.00FPS</div></td></tr><tr class="tt-content" id="=-36" data-pos="&#91;&quot;=&quot;,36&#93;"><td class="tt-ja" lang="ja"><div class="poem">AlwaysBlt (デフォルト=0)<br>　custom.exeの"ウィンドウスタイル"が"ウィンドウ"用の設定です(Windowモード用の設定です)<br>　1にすると、ゲームWindowが非アクティブでも、常に描画を行うようにします<br>　これを1にすると、ゲームWindowのフォーカスをはずした場合に、<br>　キー入力が入りっぱなしになる現象等を修正するために、<br>　Game内の入力処理コードが修正されます<br>　keyboard入力は、ゲームWindowがアクティブの時のみ反応します<br>　custom.exeの「入力にDirectInputを使用しない」の項目は、チェックしてもしなくても問題ありません<br>　対応ゲーム：紅魔郷、妖々夢</div></td><td class="tt-zh" lang="zh"><div class="poem">AlwaysBlt (默认=0)<br>　在custom.exe中，"窗口选项 "被设置为 "窗口"（窗口模式）时适用的功能<br>　如果设置为1，即使游戏窗口没有获得焦点，也会正常绘制画面<br>　此处设定为1时，<br>　会修改游戏中的输入处理代码，<br>　以解决诸如游戏窗口失去焦点时，按键被留在上面的问题<br>　只有在游戏窗口处于活动状态时，键盘输入才会有效果<br>　无论是否勾选custom.exe中的 "不使用DirectInput输入"都没有问题<br>　支持游戏：红魔乡，妖妖梦</div></td></tr><tr class="tt-content" id="=-37" data-pos="&#91;&quot;=&quot;,37&#93;"><td class="tt-ja" lang="ja"><div class="poem">BugFixGetDeviceState (デフォルト=1)<br>　※この項目は初期iniには存在しません　手動で追加してください<br>　0を指定した場合は、何もしません<br>　1にすると、<br>　バックグラウンドから戻ると、入力が入ったままになり暴走することがある件等を修正します</div></td><td class="tt-zh" lang="zh"><div class="poem">BugFixGetDeviceState（默认=1）。<br>　※此配置项不存在于初始ini中，你可以手动添加它<br>　设置为0则不起任何作用<br>　设置为1时，<br>　可以修复从后台切换回来时，输入法仍然处于开启状态而导致失控之类的问题</div></td></tr><tr class="tt-content" id="=-38" data-pos="&#91;&quot;=&quot;,38&#93;"><td class="tt-ja" lang="ja"><div class="poem">BugFixCherry (デフォルト=1)<br>　これを0以外にすると、桜点表示バグを修正します<br>　桜点Nowが100万を超えた時に表示がおかしくなるのが気になる場合は1を指定してください<br>　対応ゲーム：妖々夢</div></td><td class="tt-zh" lang="zh"><div class="poem">BugFixCherry（默认=1）。<br>　若将此配置项设置为0以外的值，则会修复樱点的显示错误<br>　如果你很在意实时樱点超过100万时的奇怪显示错误，请将此设置为1<br>　支持游戏：妖妖梦</div></td></tr><tr class="tt-content" id="=-39" data-pos="&#91;&quot;=&quot;,39&#93;"><td class="tt-ja" lang="ja"><div class="poem">BugFixTh10Power3 (デフォルト=0)<br>　これを0以外にすると、風神録の貫通装備魔理沙のパワー3状態での高速移動時のショットが<br>　異常な攻撃力になるバグを修正します<br>　バグ修正とは言っても、ショットの威力が122の場合、12に補正するという処理を行うだけです<br>　魔理沙B、P3、高速状態、右のメインショットの威力を12に補正する処理ではないので、<br>　もしかすると、他へ影響があるかもしれません<br>　十分注意してご使用ください<br>　BugFixTh10Power3=1にして保存したリプレイは、<br>　リプレイを再生する側でもBugFixTh10Power3=1にして再生する必要があります<br>　pingval氏のご協力により、power3バグ修正を行うことができました<br>　ありがとうございました</div></td><td class="tt-zh" lang="zh"><div class="poem">BugFixTh10Power3 (默认=0)<br>　若将此配置项设置为0以外的值，则可以修复风神录魔B机体在高速移动时，<br>　攻击力变为异常值的bug<br>　虽然说是修复bug，其实只是在射击的威力为122时，修正为12而已<br>　由于魔理沙B在P3、高速状态下，右边主炮的威力并不会被修正到12<br>　因此可能会造成其他未知的影响<br>　请十分慎重地使用<br>　在BugFixTh10Power3=1的情况下保存replay的话，<br>　播放replay时也需要设置BugFixTh10Power3=1<br>　在pingval的帮助下，成功修复了power3bug<br>　非常感谢</div></td></tr><tr class="tt-content" id="=-40" data-pos="&#91;&quot;=&quot;,40&#93;"><td class="tt-ja" lang="ja"><div class="poem">BugFixTh12Shadow (デフォルト=0)<br>　星蓮船用のバグ修正オプションです<br>　一部のビデオカード及びオンボードにて聖輦船の影が黒く表示されない。 <br>　　<a rel="nofollow" class="external free" href="http://www26.atwiki.jp/touhoufuguaimatome/pages/152.html">http://www26.atwiki.jp/touhoufuguaimatome/pages/152.html</a><br>　1を指定すると、上記の問題を解決するためのパッチを適用します<br>　修正方法は、こちらの情報を参考にしました<br>　　<a rel="nofollow" class="external free" href="http://bygzam.seesaa.net/article/127298643.html">http://bygzam.seesaa.net/article/127298643.html</a><br>　BugFixTh12Shadow=1で修正される箇所は、D3DRS_FOGVERTEXMODE が指定されているところを<br>　D3DRS_FOGTABLEMODE に変更するだけです<br>　※D3DRS_FOGTABLEMODE に対応していない環境は、D3DRS_FOGVERTEXMODEを指定するため、影の色は変わりません<br>　※Geforce系は元々黒く表示されるため、問題ない環境が多いそうです<br>　※Radeon系は白く表示される環境が多いそうです　BugFixTh12Shadow=1を推奨します<br>　※D3DRS_FOGTABLEMODE を使用した場合、若干描画が重くなる環境もあるようです<br>　※プレイに支障をきたす場合は、BugFixTh12Shadow=0 でご使用下さい</div></td><td class="tt-zh" lang="zh"><div class="poem">BugFixTh12Shadow (默认=0)<br>　这是对星莲船的一个错误修复选项<br>　在一些独立显卡和集成显卡上，圣辇船的影子并不显示为黑色 <br>　　<a rel="nofollow" class="external free" href="http://www26.atwiki.jp/touhoufuguaimatome/pages/152.html">http://www26.atwiki.jp/touhoufuguaimatome/pages/152.html</a><br>　如果设置为1，将应用一个补丁来解决上述问题<br>　具体修复方法请参照以下链接<br>　　<a rel="nofollow" class="external free" href="http://bygzam.seesaa.net/article/127298643.html">http://bygzam.seesaa.net/article/127298643.html</a><br>　BugFixTh12Shadow=1将通过把设置为D3DRS_FOGVERTEXMODE的地方修改为<br>　D3DRS_FOGTABLEMODE来解决这个问题<br>　※对于不支持D3DRS_FOGTABLEMODE的环境，由于指定了D3DRS_FOGVERTEXMODE，阴影颜色将不会改变<br>　※由于Geforce系显卡本身就显示为黑色，大多数环境下似乎都没有这个问题<br>　※Radeon系显卡显示为白色的环境似乎比较多，推荐设置BugFixTh12Shadow=1<br>　※如果你使用D3DRS_FOGTABLEMODE，在某些环境下的渲染可能会有点重<br>　※如果你在游戏中遇到困难，请设置BugFixTh12Shadow=0</div></td></tr><tr class="tt-content" id="=-41" data-pos="&#91;&quot;=&quot;,41&#93;"><td class="tt-ja" lang="ja"><div class="poem">ProcessPriority (デフォルト=0)<br>　※この項目は初期iniには存在しません　手動で追加してください<br>　ゲームのプロセスの優先度を指定します<br>　値：-2:低  -1:通常以下  0:通常  1:通常以上  2:高</div></td><td class="tt-zh" lang="zh"><div class="poem">ProcessPriority（默认=0）<br>　※此配置项不存在于初始ini中，你可以手动添加它<br>　设置游戏进程的优先级<br>　值：-2:低  -1:低于正常  0:正常  1:高于正常  2:高</div></td></tr><tr class="tt-content" id="=-42" data-pos="&#91;&quot;=&quot;,42&#93;"><td class="tt-ja" lang="ja"><div class="poem">ProcessAffinityMask (デフォルト=0)<br>　※この項目は初期iniには存在しません　手動で追加してください<br>　どのCPUでプロセスを実行するかを制御できます<br>　1:CPU0でのみ実行<br>　2:CPU1でのみ実行<br>　3:CPU0とCPU1で実行<br>　各ビットはプロセスのスレッドを実行できるプロセッサを表します<br>　ProcessAffinityMaskは10進数で指定してください</div></td><td class="tt-zh" lang="zh"><div class="poem">ProcessAffinityMask（默认=0）。<br>　※此配置项不存在于初始ini中，你可以手动添加它<br>　可以控制进程将在哪个CPU上运行<br>　1：仅在CPU0上运行<br>　2：仅在CPU1上运行<br>　3：在CPU0和CPU1上运行<br>　每位代表一个处理器，进程线程可在其上执行<sup id="cite_ref-4" class="reference"><a href="#cite_note-4">4</a></sup><br>　请以十进制数设置ProcessAffinityMask</div></td></tr><tr class="tt-content" id="=-43" data-pos="&#91;&quot;=&quot;,43&#93;"><td class="tt-ja" lang="ja"><div class="poem">LockBackBuffer (デフォルト=0)<br>　※この項目は初期iniには存在しません　手動で追加してください<br>　vsyncが正常にできない場合に、1にしてください<br>　1にすると、Present直前にバックバッファをロックし、すべてのDirect3D描画命令の完了を待機します<br>　通常は1にする必要はありません<br>　0でティアリングが発生する環境では、1にすることで正常にvsyncが行えるようになるかもしれません<br>　副作用で、負荷のかかる場面でfpsが極端に落ちる可能性があります(スペルカード発動時等)</div></td><td class="tt-zh" lang="zh"><div class="poem">LockBackBuffer（默认=0）<br>　※此配置项不存在于初始ini中，你可以手动添加它<br>　如果vsync工作不正常，将此设置为1<br>　设置为1时，在Present前锁定后台缓冲区并等待所有Direct3D绘制指令完成<br>　通常情况下，没有必要将其设置为1<br>　若在设置为0的情况下发生撕裂，将其设置为1可能得以使vsync正常工作<br>　副作用是，在重负荷情况下，帧数可能会急剧下降（例如发动符卡时）</div></td></tr><tr class="tt-content" id="=-44" data-pos="&#91;&quot;=&quot;,44&#93;"><td class="tt-ja" lang="ja"><div class="poem">★これより下に書いてある文章は、一般の方には必要のない情報です<br>★パッチがどのように動作しているのか、<br>★また、WindowsAPIの仕様・動作について書いてあります<br>★興味のない方は読み飛ばしてくださってかまいません</div></td><td class="tt-zh" lang="zh"><div class="poem">★以下文字对于一般用户是不必要的信息<br>★例如补丁是通过何种方式运行，<br>★以及，WindowsAPI的规范和操作<br>★不感兴趣的话请随意跳过</div></td></tr><tr class="tt-content" id="=-45" data-pos="&#91;&quot;=&quot;,45&#93;"><td class="tt-ja" lang="ja"><div class="poem">■技術情報<br>本パッチが内部でどのような動作をするかを書いておきます<br>すべてのパッチは下記の様に動作します<br>・東方本家のtimeBeginPeriod()とtimeEndPeriod()の呼び出しをすべて無効化します<br>・アプリ起動時にtimeBeginPeriod(1)を実行し、アプリ終了時にtimeEndPeriod(1)を実行するようにします<br>・IDirect3D::CreateDevice()を呼び出す際の引数、<br>　D3DPRESENT_PARAMETERS内部のD3DSWAPEFFECTを、D3DSWAPEFFECT_DISCARDに強制設定します<br>　また、DirectX9の場合、PresentationIntervalメンバ変数にD3DPRESENT_INTERVAL_IMMEDIATEを強制設定します<br>・本家の処理では、描画開始時刻未満の場合にSleep(0)が呼び出され、WindowMsg処理へ何度も飛びますが、<br>　本パッチでは、描画開始時刻判定処理をHookし、描画開始時刻まではSetWaitableTimer()を使い、待機するようにします<br>　WindowMsg処理は1フレームに1回しか行わないようにします<br>・裏画面から表画面への転送処理(IDirect3DDevice::Present())をHookし、vsync待ち等の処理を行うようにします<br>・処理の流れは下記の通りです<br>　WindowMsg処理 → 描画開始時刻までWait → 裏画面へ描画 → 表画面へ転送(Present処理) → WindowMsg処理<br>・現在のFPSを表示するためのfps計算は、Present処理をした時刻を元に計算します(本家では裏画面描画中の時刻が元)<br>　Present処理をした時刻というのは、Presentを呼び出す直前の時刻です<br>　Present後の時刻を元にfpsを算出すると、Present自体の処理時間が一定では無い場合にfpsが異常に乱れる場合があります<br>　(FrapsやDxtory等の外部ソフトにより、Presentがhookされる場合等)<br>　上記の理由により、fps計算には、Presentを呼び出す直前の時刻を使用します<br>　ただし、ハードウェア側のvsyncをonにする場合、DirectX9＆windowモード時は、Presentをcallすると内部でsleepされるため<br>　Present後の時刻を元にfpsを算出する必要があるかもしれません<br>・妖々夢でFPS表示が乱れるのは、<br>　QueryPerformanceCounter()で得た値の下位32bitの値のみを使って演算するために起こります<br>　特にQueryPerformanceCounter()等で返される値が異常に大きい環境でFPS表示が乱れると思われます<br>　デュアルコア環境の場合、QueryPerformanceCounter()で返される値がRDTSC(Time Stamp Counter)の値になるため、<br>　おかしくなるものと思われます<br>　デュアルコアパッチを当てると、妖々夢でのFPS表示は直りますが、これは<br>　QueryPerformanceFrequency()で返される値が、Power Management Timerに変更されるためのようです<br>　このTSCとPMタイマの精度の差は、大きい環境の場合は1000倍くらい違います<br>　※上記事項は、PC環境によりますので、全ての環境には当てはまりません<br>　※<a rel="nofollow" class="external free" href="http://support.microsoft.com/default.aspx?scid=kb;ja;327809">http://support.microsoft.com/default.aspx?scid=kb;ja;327809</a><br>　※妖々夢のfps表示の乱れは、boot.iniに/usepmtimerを指定するだけで修正できる環境が多いと思います<br>・風神録でWindowモード時、なぜか50fps以下になることについて…<br>　PresentationIntervalメンバ変数にD3DPRESENT_INTERVAL_DEFAULTが指定されているため、<br>　垂直同期が取られるようになります<br>　この垂直同期処理はDirect3D内部でSleep()を使って実装されています<br>　風神録ではtimeBeginPeriod()が呼び出されていないため、Sleepの精度が10～15ms程度になってしまい<br>　うまく垂直同期処理ができず、飛び飛びになってしまうため、60fpsが維持できなくなってしまうのだと思われます<br>・本パッチ上の垂直同期処理には、IDirect3DDevice::GetRasterStatus()を使用していますが、<br>　InVBlankメンバ変数を見てVBlankを判断しているのではなく、<br>　ScanLineメンバ変数を見て、次のVBlankの時刻を計算し、<br>　その時刻まで待ってからPresent()をするようにしています<br>　環境によっては、InVBlankはよく読み飛ばされる気がします</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-46" data-pos="&#91;&quot;=&quot;,46&#93;"><td class="tt-ja" lang="ja"><div class="poem">■timeBeginPeriod<br>timeBeginPeriod()を呼び出すと、Sleep()やWaitForSingleObject()等の精度が変わります<br>timeGetTime()やSleep()の精度だけしか変わらないと思ったら、大間違いのようです<br>SetWaitableTimer()＆WaitForSingleObject()を使い、100ナノ秒単位の精度で<br>待機したい場合は、必ずtimeBeginPeriod(1)を呼ぶ必要があるようです<br>※timeBeginPeriod(1)を呼ばない状態でWaitForSingleObject()の精度が1ms以下の環境は<br>※おそらくWMP等のアプリがすでにtimeBeginPeriod(1)を呼んでいるために<br>※精度が高くなっていると思われます</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-47" data-pos="&#91;&quot;=&quot;,47&#93;"><td class="tt-ja" lang="ja"><div class="poem">MSDNライブラリのtimeBeginPeriod()の解説に<br>　タイマサービスの使用直前にこの関数を呼び出し、<br>　タイマサービスの使用終了後ただちに timeEndPeriod 関数を呼び出してください。<br>と書いてあります<br>これを鵜呑みにしてこのまま実装してしまうと、<br>timeGetTime()を呼び出すたびにtimeBeginPeriod(),timeEndPeriod()等を<br>呼ぶ必要があるように聞こえますが…<br>大嘘です　MSDNの罠です　引っかかっちゃだめです　＞ZUN氏<br>timeBeginPeriod()を呼び出してもすぐには精度が変わらなく、<br>若干の間を必要とするという情報もあります<br>timeBeginPeriod()はアプリ起動時に、<br>timeEndPeriod()はアプリ終了時に呼び出すのが良いらしいです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-48" data-pos="&#91;&quot;=&quot;,48&#93;"><td class="tt-ja" lang="ja"><div class="poem">上記はWindowsXPや2000の話です<br>Vistaの場合はAvSetMmThreadCharacteristicsという関数があります<br>詳細はgoogleやMSDNライブラリ等で調べてください<br>timeBeginPeriodと同じ効果があります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-49" data-pos="&#91;&quot;=&quot;,49&#93;"><td class="tt-ja" lang="ja"><div class="poem">■SetWaitableTimer＆WaitForSingleObjectの精度について<br>1.4GHzのシングルコアCPU搭載PC環境の場合において、1ミリ秒未満の精度を確認しました<br>おそらくこのような環境ではSleepType=0でも全く問題ないと思われます<br>2.6GHzのデュアルコアCPU搭載PC環境の場合、精度が1ミリ秒単位になりました<br>1.5ミリ秒を指定しても2ミリ秒程度Sleepしてしまいます<br>何が原因でこうなるのかはわかりませんが、<br>SetWaitableTimer＆WaitForSingleObjectの精度は、<br>環境によってバラバラで信用できないみたいです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-50" data-pos="&#91;&quot;=&quot;,50&#93;"><td class="tt-ja" lang="ja"><div class="poem">■double型の精度について<br>QueryPerformanceCounterで得た値をdoubleに変換して、<br>doubleでfps制御及びfps表示のための計算を行うと、fpsがふらつくようになります<br>doubleではなくて、64bitの整数型(LONGLONG)で演算すると<br>全くふらつかなくなりました<br>色々実験をしたわけではありませんが、double型の精度が悪いとしか思えません<br>(あるいはdoubleの精度を超える演算をしている可能性があるかも…)<br>(演算方法が悪いということはたぶん無いと思います。LONGLONGの場合と同じ演算方法でfpsがふらつくので)<br>時刻情報はできるだけ、QueryPerformanceCounterで得た値を<br>そのままLONGLONGで保持した方が良いかと思います</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-51" data-pos="&#91;&quot;=&quot;,51&#93;"><td class="tt-ja" lang="ja"><div class="poem">x86CPUの場合、ローカル変数を使用して演算する場合は、<br>float,doubleの型に関係なくfpuレジスタで80bitの精度で演算されますが、<br>float,double型はメモリに保存するだけで値が丸められ、精度が落ちるようです<br>特にグローバル変数・メンバ変数で保存・アクセスする場合に問題がでるようです<br>「小数の計算精度」でググると、良い文献が見つかります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-52" data-pos="&#91;&quot;=&quot;,52&#93;"><td class="tt-ja" lang="ja"><div class="poem">IDirect3D::CreateDevice() をcallする際、<br>BehaviorFlagsに、D3DCREATE_FPU_PRESERVEを指定しないと<br>浮動小数の計算精度が単精度に設定されます<br>Game内でdouble型の変数を使用する場合は、必ずD3DCREATE_FPU_PRESERVEを指定する必要があります<br>※単精度に設定されるのはメインスレッド(CreateDeviceをcallしたスレッド)だけです<br>※それ以外のスレッドでは規定の倍精度で演算できます<br>※(別スレッドからDirect3D関連の関数をcallした場合については未確認)</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-53" data-pos="&#91;&quot;=&quot;,53&#93;"><td class="tt-ja" lang="ja"><div class="poem">■紅魔郷・妖々夢・永夜抄の入力遅延について<br>紅魔郷と妖々夢は、フレームレート制御を行っている場所が悪いために、<br>常に1フレームの描画遅延があります<br>処理の流れは以下の通りです<br>WindowMsg処理 → IDirect3DDevice8::BeginScene() → リストに登録された描画情報を裏画面に描画 →<br>IDirect3DDevice8::EndScene() → 現在のkey入力情報を取得 → キャラ移動等の処理を行い、描画情報をリストに登録 →<br>次のフレーム描画時刻まで待つ(フレームレート制御) → IDirect3DDevice8::Present() → WindowMsg処理</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-54" data-pos="&#91;&quot;=&quot;,54&#93;"><td class="tt-ja" lang="ja"><div class="poem">妖々夢は、上記の描画遅延に追加で、さらに1フレームの遅延があります<br>処理の流れは以下の通りです (key入力処理とキャラ移動処理のみを表記)<br>　　現在のkey入力情報を取得し、変数Aに代入 → 変数Bを参照して、キャラ移動の処理を行う → 変数Bに変数Aを代入<br>※つまり、1フレーム前の入力を見ているということです<br>※妖々夢は描画遅延と入力遅延を合わせて2フレームの遅延があります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-55" data-pos="&#91;&quot;=&quot;,55&#93;"><td class="tt-ja" lang="ja"><div class="poem">永夜抄は、妖々夢と同じ入力遅延が1フレームあります<br>フレームレート制御は正常なため、描画遅延はありません</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-56" data-pos="&#91;&quot;=&quot;,56&#93;"><td class="tt-ja" lang="ja"><div class="poem">上記の遅延を修正したことにより、大幅に描画完了待ち時間が少なくなります<br>今までは60fpsを維持していた場合でも、負荷のかかる場面でfpsが落ちる可能性があります<br>特に低性能なPCで、この現象が顕在化する可能性が高いです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-57" data-pos="&#91;&quot;=&quot;,57&#93;"><td class="tt-ja" lang="ja"><div class="poem">■地霊殿について<br>修正点は、入力のレイテンシ："自動"と"高速"のみです<br>ini項目のCalcFPSを1にした場合は、2重に四捨五入している部分も修正されます<br>※sprintfに渡す値に0.05を足しているのを、足さないようにします<br>ini項目のVsyncの設定は無視されます<br>ini項目のReplaySkipFPSの設定は無視されます<br>ini項目のReplaySlowFPSの設定は無視されます<br>地霊殿のcustom.exeにて、入力のレイテンシを自動にするとVsync=1、<br>入力のレイテンシを高速にするとVsync=0としてGameが動作します<br>iniでVsync=2にしている場合は、入力のレイテンシを自動にするとVsync=2として動作します<br>入力のレイテンシ：安定と通常については、元々の動作のままです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-58" data-pos="&#91;&quot;=&quot;,58&#93;"><td class="tt-ja" lang="ja"><div class="poem">■星蓮船について<br>修正点は、入力のレイテンシ："自動"と"高速"のみです<br>ini項目のCalcFPSを1にした場合は、スペル撃破実時間が正確な時間に修正されます<br>ini項目のCalcFPSを1にした場合は、2重に四捨五入している部分も修正されます<br>※sprintfに渡す値に0.05を足しているのを、足さないようにします<br>ini項目のVsyncの設定は無視されます<br>ini項目のReplaySkipFPSの設定は無視されます<br>星蓮船のcustom.exeにて、入力のレイテンシを自動にするとVsync=1、<br>入力のレイテンシを高速にするとVsync=0としてGameが動作します<br>iniでVsync=2にしている場合は、入力のレイテンシを自動にするとVsync=2として動作します<br>入力のレイテンシ：安定と通常については、元々の動作のままです<br>※地霊殿・星蓮船の入力のレイテンシ:自動(ソフトウェアvsync)は、ZUN氏独自の実装です<br>※したがって、vpatchの処理方法とは違うため、本家でfpsが安定しない環境で、<br>※vpatchを適用すると安定できる可能性があります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-59" data-pos="&#91;&quot;=&quot;,59&#93;"><td class="tt-ja" lang="ja"><div class="poem">■version履歴<br>2008/04/01 rev1<br>　正式公開</div></td><td class="tt-zh" lang="zh"><div class="poem">■历史版本<br>2008/04/01 rev1<br>　正式发布</div></td></tr><tr class="tt-content" id="=-60" data-pos="&#91;&quot;=&quot;,60&#93;"><td class="tt-ja" lang="ja"><div class="poem">2008/04/11 rev2<br>　・GetRasterStatusで得たScanLine値が、モニタの高さの値を超えてしまう<br>　　仕様外の動作をする環境に対応  ツール総合スレ2 &gt;&gt;208氏thx<br>　　→Vsync=1にすると不定期にハングアップする現象が直るかも<br>　・走査線の読み取りをサポートしているかどうかの調査の方法を変更<br>　　ScanLine値が変動しているかを検査します<br>　・走査線の速度を計測する方法を変更<br>　　→Vsync=1にするとGame起動時にCPU100%で固まる現象が直るかも<br>　　→と思ったけど、CPU100%で固まる現象は仕様外の値を吐くGetRasterStatusがらみの問題なのかも<br>　・ini項目追加：AskWindowMode(風神録・黄昏酒場は元々ある機能なため非対応)<br>　　ツール総合スレ2 &gt;&gt;208氏thx<br>　・技術情報追加：double型の精度について<br>　・風神録・黄昏酒場のReplaySlowFPS対応<br>　　文花帖は、リプレイフラグが見つからないため未対応<br>　・紅魔郷のFPS制御を少し変更<br>　・描画間隔を毎回以外にすると倍速化する件ですが、Gameによっては<br>　　vsync=1にすると倍速化するようです(vsync=0でも倍速化するGameもあり)<br>　　描画間隔:毎回、以外の対応は少し難しいです　申し訳ないですが仕様ということでお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-61" data-pos="&#91;&quot;=&quot;,61&#93;"><td class="tt-ja" lang="ja"><div class="poem">2008/04/12 rev3<br>　・紅魔郷：フルスクリーン時、デバイスのvsyncがonになっていたのをoffに修正<br>　　また、フルスクリーン専用のFPS制御処理(強制60frame等)をskipするように変更<br>　　→フルスク時、おそらく入力遅延が発生していたと思います　この修正で入力遅延が少なくなります<br>　　→フルスク時、リプレイ高速再生ができなかったのが直ります<br>　　→フルスク時、高FPSでGameができなかったのが直ります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-62" data-pos="&#91;&quot;=&quot;,62&#93;"><td class="tt-ja" lang="ja"><div class="poem">2009/03/01 rev4<br>　・紅魔郷：1フレームの入力遅延を解消<br>　・妖々夢：2フレームの入力遅延を解消<br>　・永夜抄：1フレームの入力遅延を解消<br>　・紅魔郷＆妖々夢：AlwaysBlt=1の時の挙動を変更<br>　　→ゲームWindowのフォーカスをはずした場合に、<br>　　→キー入力が入りっぱなしになる現象等を修正するために<br>　　→入力処理コードを修正するようにしました<br>　　→Game起動時にキーが入りっぱなしになる現象も修正できたと思います<br>　　→この変更により、iniのNoKeyboardの項目は必要なくなりました<br>　・地霊殿に対応<br>　・ini項目削除：NoKeyboard<br>　・ini項目削除：BltFineTuneTime<br>　・ini項目追加：AutoBltPrepareTime<br>　・ini項目追加：SleepType<br>　・ini項目追加：LockBackBuffer<br>　・ini項目更新：Vsync<br>　・技術情報追加：紅魔郷・妖々夢・永夜抄の入力遅延について<br>　・技術情報追加：地霊殿について<br>　・精度が維持できるように各種計算式・アルゴリズムを変更<br>　・走査線の速度を計測する方法を変更<br>　　→走査線を読み飛ばす可能性を最小限に減らしました<br>　　→速度計測に失敗した場合にFPSがおかしくなっていたのが直ります<br>　・vsyncの方法を変更<br>　　→VBlank時刻を正確に算出できるようにしました<br>　　→リフレッシュレートを参照せずに、走査線のみを見て次のVBlank時刻を算出します<br>　　→リフレッシュレートと走査線の速度が合っていない環境で、<br>　　→FPSが不安定だったのが直ります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-63" data-pos="&#91;&quot;=&quot;,63&#93;"><td class="tt-ja" lang="ja"><div class="poem">2009/09/13 rev5<br>　・今回のrevは、星蓮船のみのリリースです<br>　　星蓮船以外のvpatchのリリースはしばらく先になりそうです<br>　・ini項目追加：BugFixGetDeviceState<br>　　→デフォルトでキー入力の暴走を修正するコードが適用されます<br>　　→これを適用してもなお暴走する場合は、報告して頂けるとありがたいです<br>　・ini項目追加：AllowShortDelay<br>　　→rev4にて、vsync=1の時のみAllowShortDelayの機能が常に適用されていたのを、rev5はデフォルトでoffにしました<br>　　→rev5では、AllowShortDelay=1にした場合は、vsync off時にも適用されます<br>　　→なおこの変更で、vsync=1にしていた場合、平均フレームレートがrev4より低下する可能性があります<br>　　→rev4と同じ処理をしたい場合は、AllowShortDelay=1にしてください<br>　・ini項目更新：AutoBltPrepareTime<br>　　→自動算出方法を見直し<br>　　→AutoBltPrepareTimeの値を、自動算出した値に加算するように変更<br>　・vsync=0の時に、前のフレーム描画に時間がかかり過ぎた場合に、<br>　　次の描画タイミングが早くなりすぎていたバグを修正<br>　・マルチプロセッサの環境にて、QueryPerformanceCounterの<br>　　タイマソースにrdtscが使用され、かつ、XPSP3未満の場合は、<br>　　使用するプロセッサを1つに限定するように変更<br>　・技術情報追加：星蓮船について</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-64" data-pos="&#91;&quot;=&quot;,64&#93;"><td class="tt-ja" lang="ja"><div class="poem">2009/09/25 rev6<br>　・今回のrevは、星蓮船のみのリリースです<br>　・走査線速度の計測が、特定の条件で失敗する不具合を修正<br>　　→入力のレイテンシ：自動 の時、fpsがモニタのリフレッシュレートと<br>　　→同期しないことがあったのが直ります<br>　・ini項目追加：BugFixTh12Shadow<br>　　→BugFixTh12Shadow=1にすると、星蓮船1面道中の船の影が白く表示されるのが直るかもしれません<br>　・描画間隔：1/2,1/3のフレームレート制御を修正<br>　　→おそらくこの修正で、ある程度fpsを高く維持できると思われます</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-65" data-pos="&#91;&quot;=&quot;,65&#93;"><td class="tt-ja" lang="ja"><div class="poem">■作者<br>◆swmpLV/75E</div></td><td class="tt-zh" lang="zh"><div class="poem">■作者<br>◆swmpLV/75E</div></td></tr></tbody></table>


  
  

  

[^cite_note-1]: 译者注：只能加速不能减速，想用VP减速的可以洗洗睡了





---

此文档由 [THBWiki-Markdown-Builder](https://github.com/Delsin-Yu/THBWiki-Markdown-Builder) 构建。

文档中的所有内容除特殊注明外，均在 [**知识共享(Creative Commons) 署名-非商业性使用-相同方式共享 3.0 协议**](https://creativecommons.org/licenses/by-sa/3.0/deed.zh-hans) 下提供，附加条款亦可能应用。

引用类型与其他类型作品版权归原作者所有，如有作者授权则遵照授权协议使用。

详细请查阅 [THBWiki：免责声明](https://thbwiki.cc/THBWiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E)。

