# 游戏攻略/STG常用工具/VsyncPatch/vpatch_readme_th128

<!-- source html: G:\repos\THBWiki-Markdown-Builder\THBWikiMarkdown\Temp\main\e\e8\ns0%3A%E6%B8%B8%E6%88%8F%E6%94%BB%E7%95%A5%2FSTG%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%2FVsyncPatch%2Fvpatch_readme_th128.html -->

使用了翻译表的页面

- 纯文本格式（Wiki系统将从本页面下方的翻译表中自动获取内容并拼接成纯文本格式的页面）

: [日文版](http://omake.thwiki.cc/translate.php?u=游戏攻略/STG常用工具/VsyncPatch/vpatch_readme_th128&amp;t=ja)
: [汉化版](http://omake.thwiki.cc/translate.php?u=游戏攻略/STG常用工具/VsyncPatch/vpatch_readme_th128&amp;t=zh)

  
  

  


<table><tbody><tr class="tt-content" id="=-1" data-pos="&#91;&quot;=&quot;,1&#93;"><td class="tt-ja" lang="ja"><div class="poem">VsyncPatch</div></td><td class="tt-zh" lang="zh"><div class="poem">VsyncPatch<br></div></td></tr><tr class="tt-content" id="=-2" data-pos="&#91;&quot;=&quot;,2&#93;"><td class="tt-ja" lang="ja"><div class="poem">基本的な使用方法は、VsyncPatch rev6と同じです<br>使用方法の詳細は、rev6のreadmeを御覧下さい</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-3" data-pos="&#91;&quot;=&quot;,3&#93;"><td class="tt-ja" lang="ja"><div class="poem">■対応OS<br>確認済：Windows XP SP2 32bit版<br>非対応：NT系のAPIを使用しているため、95/98/Meは動作不可能<br>動作報告有：XP64bit、Vista32bit</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-4" data-pos="&#91;&quot;=&quot;,4&#93;"><td class="tt-ja" lang="ja"><div class="poem">■対応ゲーム<br>妖精大戦争 ver1.00a</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-5" data-pos="&#91;&quot;=&quot;,5&#93;"><td class="tt-ja" lang="ja"><div class="poem">■警告<br>本非公式パッチは、ゲームの内部動作を大幅に変更します<br>本パッチを当てると不具合がでるかもしれません<br>実行前にscore.dat等をバックアップすることを推奨します<br>また、十分に動作確認をした上でご使用ください<br>特に本パッチを使用した状態でリプレイを保存、公開される方はご注意ください<br>本パッチ適用時のリプレイに関しては、東方Projectスコアボードに投稿することはできません<br>リプレイをwebやuploder等で公開する場合は、VsyncPatchを使用していることを明記すると、<br>トラブルになりにくいかと思います<br>本パッチは非公式に作成したものです<br>公式に問い合わせないようにお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-6" data-pos="&#91;&quot;=&quot;,6&#93;"><td class="tt-ja" lang="ja"><div class="poem">■再配布<br>ご自由に再配布してくださってかまいません<br>ただし、zip内のファイルを変更・追加せず<br>そのままの状態で再配布をお願いします</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-7" data-pos="&#91;&quot;=&quot;,7&#93;"><td class="tt-ja" lang="ja"><div class="poem">■インストール<br>vpatch.exe、vpatch_th??.dll、vpatch.iniのファイルを<br>東方シリーズをインストールしたフォルダにコピーしてください<br>iniファイルは無くても一応動作します</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-8" data-pos="&#91;&quot;=&quot;,8&#93;"><td class="tt-ja" lang="ja"><div class="poem">妖精大戦争の場合はvpatch.exeとvpatch_th128.dllとvpatch.ini</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-9" data-pos="&#91;&quot;=&quot;,9&#93;"><td class="tt-ja" lang="ja"><div class="poem">※パッチの動作不良で、score.dat等がおかしくなる可能性もあるかもしれません<br>※念のためバックアップをとってからパッチを実行するようにしてください<br>※また、本ツール上からはゲームのversionをチェックしていないので、<br>※対応しているかどうか確認してください<br>※vpatch.exeは、vpatchという名のつくdllを同じフォルダ内で検索し、<br>※最初に見つかったdllをロードします<br>※したがって、同じフォルダ内に別のvpatch dllがあると、うまく起動できません<br>※東方シリーズをインストールしたフォルダには、<br>※対応しているdllのみを入れるようにしてください</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-10" data-pos="&#91;&quot;=&quot;,10&#93;"><td class="tt-ja" lang="ja"><div class="poem">■アンインストール<br>インストール時にコピーしたexeとdll及びiniファイルを削除してください</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-11" data-pos="&#91;&quot;=&quot;,11&#93;"><td class="tt-ja" lang="ja"><div class="poem">■iniファイル<br>[Option]<br>Vsync (デフォルト=0)<br>　-1の場合、custom.exeで設定した垂直同期(入力のレイテンシ)の設定で動作します<br>　この場合、フレームレート制御はvpatchでは制御せず、本家の動作のままです<br>　-1以外を指定した場合は、vpatch側でフレームレート制御を行います<br><br>　0を指定すると垂直同期をせずに、描画を行います<br><br>　1を指定すると独自の方法で垂直同期をとり、描画を行います<br>　Gameの速度(fps)は、モニタのリフレッシュレートと同じになります<br>　Vsync=1にしてもティアリング(ちらつき)が発生する場合は、<br>　LockBackBuffer=1 と D3DMultiThread=1 と ProcessPriority=2 を設定してみてください<br><br>　Vsync=1、LockBackBuffer=1 にしている場合は、CPUやビデオカードに高負荷がかかるシーンで、<br>　大幅なフレームレートの低下が起こることがあります<br>　フレームレートの低下が気になる場合は、Vsync=0、LockBackBuffer=0 にしてみてください</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-12" data-pos="&#91;&quot;=&quot;,12&#93;"><td class="tt-ja" lang="ja"><div class="poem">D3DMultiThread (デフォルト=0)<br>　Direct3Dをマルチスレッドで動作させた場合に発生する不具合を無くすためのオプションです<br>　0の場合は、何もしません<br>　1の場合、IDirect3D9::CreateDevice() のBehaviorFlagsに、D3DCREATE_MULTITHREADEDを指定するようにします<br>　このフラグを指定すると、マルチスレッドでDirect3Dを使用する際に不正終了しなくなります<br>　stage切り替えのところでたまに不正終了したり、<br>　ロードがいつまでたっても終了せず、次のstageにいけなくなったりする現象が直るかもしれません<br>　また、まれにタイトル画面がバグったような画面になる現象も直るかもしれません<br>　1を指定することを強く推奨しますが、CPU負荷が増え、フレームレートが低下する環境があるかもしれません<br>　LockBackBuffer=1 にする場合は、マルチスレッドでの不具合を無くすために、<br>　できるだけ D3DMultiThread=1 を設定してください</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-13" data-pos="&#91;&quot;=&quot;,13&#93;"><td class="tt-ja" lang="ja"><div class="poem">HookDirectInput (デフォルト=0)<br>　0の場合は、何もしません<br>　1の場合、DirectInputの処理をvpatch側で処理するようにします<br>　0でパッドが反応しない場合、1にすると反応するようになるかもしれません<br>　また、方向キーの暴走等も直るかもしれません<br>　2つ以上のパッドに対応し、x,y軸以外の軸や、POV(ハットスイッチ)にも対応してあります</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-14" data-pos="&#91;&quot;=&quot;,14&#93;"><td class="tt-ja" lang="ja"><div class="poem">■妖精大戦争の不具合について</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-15" data-pos="&#91;&quot;=&quot;,15&#93;"><td class="tt-ja" lang="ja"><div class="poem">・プレイしたのとは異なるステージ・ルートとしてスコアが記録される<br><a rel="nofollow" class="external free" href="http://www26.atwiki.jp/touhoufuguaimatome/pages/186.html">http://www26.atwiki.jp/touhoufuguaimatome/pages/186.html</a></div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-16" data-pos="&#91;&quot;=&quot;,16&#93;"><td class="tt-ja" lang="ja"><div class="poem">1面クリア時に表示される選択肢のうち、「下の選択肢」を選ぶと、<br>ルートを記憶している変数(ルート情報)に対して、+1の処理が行われますが、<br>「最初から始める」で1面からGameをやり直すと、ルート情報を初期化しないため、<br>プレイしたのとは異なるルートとして認識されてしまいます</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-17" data-pos="&#91;&quot;=&quot;,17&#93;"><td class="tt-ja" lang="ja"><div class="poem">また、「下の選択肢」を選ぶ度に、ルート情報が+1され続けてしまうため、<br>何度も「最初から始める」をして「下の選択肢」を選択し続けると、<br>想定の範囲外の値がセットされることがあります<br>想定の範囲外の値がセットされた状態で、GameをAllクリアし、リプレイを保存しようとすると、<br>メモリアクセス違反で不正終了することがあるようです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-18" data-pos="&#91;&quot;=&quot;,18&#93;"><td class="tt-ja" lang="ja"><div class="poem">ルートを記憶している変数の値(ルート情報)：0=A1, 1=A2, 2=B1, 3=B2, 4=C1, 5=C2, 6=EX</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-19" data-pos="&#91;&quot;=&quot;,19&#93;"><td class="tt-ja" lang="ja"><div class="poem">例えばAルートで開始し、1面クリア時にA2ルート(下の選択肢)を選択、2面以降で最初から始めるを2回行って、<br>その後3面全部をクリアすると、B2ルートをクリアした扱いにされます (ルート情報：0+1+1+1=3(B2))<br>エンディングも、B2のエンディングが流れます<br>クリア時にリプレイは保存可能ですが、リプレイを再生する時にファイルを選択するとgameがフリーズします</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-20" data-pos="&#91;&quot;=&quot;,20&#93;"><td class="tt-ja" lang="ja"><div class="poem">タイトル画面からStartし、難易度選択の次のルート選択画面で、<br>ルート決定時にルート情報が書き換えられます<br>※つまり、Gameをやり直す場合は、「最初から始める」ではなく、タイトルに戻れば不具合は発生しません<br>　ルート選択画面でAルートを選択 = ルート情報にA1(0)がセットされる<br>　ルート選択画面でBルートを選択 = ルート情報にB1(2)がセットされる<br>　ルート選択画面でCルートを選択 = ルート情報にC1(4)がセットされる</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-21" data-pos="&#91;&quot;=&quot;,21&#93;"><td class="tt-ja" lang="ja"><div class="poem">不具合が起こる条件は、A2,B2,C2ルートを、2面以上進めた状態で「最初から始める」を行う　です</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-22" data-pos="&#91;&quot;=&quot;,22&#93;"><td class="tt-ja" lang="ja"><div class="poem">・リプレイを再生すると金(ノーアイス勝利回数)に加算される<br><a rel="nofollow" class="external free" href="http://www26.atwiki.jp/touhoufuguaimatome/pages/190.html">http://www26.atwiki.jp/touhoufuguaimatome/pages/190.html</a></div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-23" data-pos="&#91;&quot;=&quot;,23&#93;"><td class="tt-ja" lang="ja"><div class="poem">実プレイ中か、リプレイ再生中かどうかに関わらず、ノーアイス撃破した場合<br>RESULT画面のノーアイス勝利回数が+1されるようです</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-24" data-pos="&#91;&quot;=&quot;,24&#93;"><td class="tt-ja" lang="ja"><div class="poem">回避方法は、スコアのバックアップを取って、再生後にリストアするか<br>金を取得しているリプレイを再生しない、等が考えられます</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-25" data-pos="&#91;&quot;=&quot;,25&#93;"><td class="tt-ja" lang="ja"><div class="poem">■version履歴<br>2010/09/06 rev th128-1<br>　・妖精大戦争に対応<br>　・妖精大戦争以外に対応したvpatchは同梱していません<br>　　rev6以前のver、又は、rev7test版をご使用ください<br>　・影響が大きそうな下記不具合を修正<br>　　・プレイしたのとは異なるステージ・ルートとしてスコアが記録される<br>　　・リプレイを再生すると金(ノーアイス勝利回数)に加算される<br>　　※ある程度は確認しましたが、修正しきれていない or 副作用が発生するかもしれません<br>　　※何か発見された場合は、連絡先よりご報告頂ければ助かります<br>　　※何か不具合が起こるかもしれないため、念のためscore.dat等のバックアップを推奨します</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-26" data-pos="&#91;&quot;=&quot;,26&#93;"><td class="tt-ja" lang="ja"><div class="poem">■作者<br>◆swmpLV/75E</div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr><tr class="tt-content" id="=-27" data-pos="&#91;&quot;=&quot;,27&#93;"><td class="tt-ja" lang="ja"><div class="poem">■連絡先<br>バグ等の御報告はこちらからどうぞ<br><a rel="nofollow" class="external free" href="http://ux.getuploader.com/swmplv75e/inquire">http://ux.getuploader.com/swmplv75e/inquire</a></div></td><td class="tt-zh" lang="zh"><div class="poem"></div></td></tr></tbody></table>


  
  

  





---

此文档由 [THBWiki-Markdown-Builder](https://github.com/Delsin-Yu/THBWiki-Markdown-Builder) 构建。

文档中的所有内容除特殊注明外，均在 [**知识共享(Creative Commons) 署名-非商业性使用-相同方式共享 3.0 协议**](https://creativecommons.org/licenses/by-sa/3.0/deed.zh-hans) 下提供，附加条款亦可能应用。

引用类型与其他类型作品版权归原作者所有，如有作者授权则遵照授权协议使用。

详细请查阅 [THBWiki：免责声明](https://thbwiki.cc/THBWiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E)。

